(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{813:function(e,t,n){"use strict";n.r(t),n.d(t,"setupTypeScript",(function(){return M})),n.d(t,"setupJavaScript",(function(){return K})),n.d(t,"getJavaScriptWorker",(function(){return L})),n.d(t,"getTypeScriptWorker",(function(){return R}));var r,o,i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=function(){function e(e,t){var n=this;this._modeId=e,this._defaults=t,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange((function(){return n._stopWorker()})),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange((function(){return n._updateExtraLibs()}))}return e.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},e.prototype.dispose=function(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()},e.prototype._updateExtraLibs=function(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return this._worker?(e=++this._updateExtraLibsToken,[4,this._worker.getProxy()]):[2];case 1:return t=n.sent(),this._updateExtraLibsToken!==e?[2]:(t.updateExtraLibs(this._defaults.getExtraLibs()),[2])}}))}))},e.prototype._getClient=function(){var e=this;if(!this._client){this._worker=monaco.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs()}});var t=this._worker.getProxy();this._defaults.getEagerModelSync()&&(t=t.then((function(t){return e._worker?e._worker.withSyncedResources(monaco.editor.getModels().filter((function(t){return t.getModeId()===e._modeId})).map((function(e){return e.uri}))):t}))),this._client=t}return this._client},e.prototype.getLanguageServiceWorker=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._getClient().then((function(t){e=t})).then((function(e){if(t._worker)return t._worker.withSyncedResources(n)})).then((function(t){return e}))},e}(),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=monaco.Uri,f=monaco.Range;function g(e,t,n){if(void 0===n&&(n=0),"string"==typeof e)return e;if(void 0===e)return"";var r="";if(n){r+=t;for(var o=0;o<n;o++)r+="  "}if(r+=e.messageText,n++,e.next)for(var i=0,a=e.next;i<a.length;i++){r+=g(a[i],t,n)}return r}function d(e){return e?e.map((function(e){return e.text})).join(""):""}!function(e){e[e.None=0]="None",e[e.Block=1]="Block",e[e.Smart=2]="Smart"}(o||(o={}));var m,h=function(){function e(e){this._worker=e}return e.prototype._textSpanToRange=function(e,t){var n=e.getPositionAt(t.start),r=e.getPositionAt(t.start+t.length);return{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:r.lineNumber,endColumn:r.column}},e}();!function(e){e[e.Warning=0]="Warning",e[e.Error=1]="Error",e[e.Suggestion=2]="Suggestion",e[e.Message=3]="Message"}(m||(m={}));var v=function(e){function t(t,n,r){var o=e.call(this,r)||this;o._defaults=t,o._selector=n,o._disposables=[],o._listener=Object.create(null);var i=function(e){if(e.getModeId()===n){var t,r=e.onDidChangeContent((function(){clearTimeout(t),t=setTimeout((function(){return o._doValidate(e)}),500)}));o._listener[e.uri.toString()]={dispose:function(){r.dispose(),clearTimeout(t)}},o._doValidate(e)}},a=function(e){monaco.editor.setModelMarkers(e,o._selector,[]);var t=e.uri.toString();o._listener[t]&&(o._listener[t].dispose(),delete o._listener[t])};o._disposables.push(monaco.editor.onDidCreateModel(i)),o._disposables.push(monaco.editor.onWillDisposeModel(a)),o._disposables.push(monaco.editor.onDidChangeModelLanguage((function(e){a(e.model),i(e.model)}))),o._disposables.push({dispose:function(){for(var e=0,t=monaco.editor.getModels();e<t.length;e++){var n=t[e];a(n)}}});var s=function(){for(var e=0,t=monaco.editor.getModels();e<t.length;e++){var n=t[e];a(n),i(n)}};return o._disposables.push(o._defaults.onDidChange(s)),o._disposables.push(o._defaults.onDidExtraLibsChange(s)),monaco.editor.getModels().forEach(i),o}return u(t,e),t.prototype.dispose=function(){this._disposables.forEach((function(e){return e&&e.dispose()})),this._disposables=[]},t.prototype._doValidate=function(e){return c(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c=this;return l(this,(function(l){switch(l.label){case 0:return[4,this._worker(e.uri)];case 1:return t=l.sent(),e.isDisposed()?[2]:(n=[],r=this._defaults.getDiagnosticsOptions(),o=r.noSyntaxValidation,i=r.noSemanticValidation,a=r.noSuggestionDiagnostics,o||n.push(t.getSyntacticDiagnostics(e.uri.toString())),i||n.push(t.getSemanticDiagnostics(e.uri.toString())),a||n.push(t.getSuggestionDiagnostics(e.uri.toString())),[4,Promise.all(n)]);case 2:return!(s=l.sent())||e.isDisposed()||(u=s.reduce((function(e,t){return t.concat(e)}),[]).filter((function(e){return-1===(c._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(e.code)})).map((function(t){return c._convertDiagnostics(e,t)})),monaco.editor.setModelMarkers(e,this._selector,u)),[2]}}))}))},t.prototype._convertDiagnostics=function(e,t){var n=t.start||0,r=t.length||1,o=e.getPositionAt(n),i=o.lineNumber,a=o.column,s=e.getPositionAt(n+r),u=s.lineNumber,c=s.column;return{severity:this._tsDiagnosticCategoryToMarkerSeverity(t.category),startLineNumber:i,startColumn:a,endLineNumber:u,endColumn:c,message:g(t.messageText,"\n"),code:t.code.toString(),tags:t.reportsUnnecessary?[monaco.MarkerTag.Unnecessary]:[],relatedInformation:this._convertRelatedInformation(e,t.relatedInformation)}},t.prototype._convertRelatedInformation=function(e,t){if(t){var n=[];return t.forEach((function(t){var r=e;if(t.file){var o=monaco.Uri.parse(t.file.fileName);r=monaco.editor.getModel(o)}if(r){var i=t.start||0,a=t.length||1,s=r.getPositionAt(i),u=s.lineNumber,c=s.column,l=r.getPositionAt(i+a),p=l.lineNumber,f=l.column;n.push({resource:r.uri,startLineNumber:u,startColumn:c,endLineNumber:p,endColumn:f,message:g(t.messageText,"\n")})}})),n}},t.prototype._tsDiagnosticCategoryToMarkerSeverity=function(e){switch(e){case m.Error:return monaco.MarkerSeverity.Error;case m.Message:return monaco.MarkerSeverity.Info;case m.Warning:return monaco.MarkerSeverity.Warning;case m.Suggestion:return monaco.MarkerSeverity.Hint}return monaco.MarkerSeverity.Info},t}(h),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),Object.defineProperty(t.prototype,"triggerCharacters",{get:function(){return["."]},enumerable:!0,configurable:!0}),t.prototype.provideCompletionItems=function(e,n,r,o){return c(this,void 0,void 0,(function(){var r,o,i,a,s;return l(this,(function(u){switch(u.label){case 0:return r=e.getWordUntilPosition(n),o=new f(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn),i=e.uri,a=e.getOffsetAt(n),[4,this._worker(i)];case 1:return[4,u.sent().getCompletionsAtPosition(i.toString(),a)];case 2:return!(s=u.sent())||e.isDisposed()?[2]:[2,{suggestions:s.entries.map((function(r){var a=o;if(r.replacementSpan){var s=e.getPositionAt(r.replacementSpan.start),u=e.getPositionAt(r.replacementSpan.start+r.replacementSpan.length);a=new f(s.lineNumber,s.column,u.lineNumber,u.column)}return{uri:i,position:n,range:a,label:r.name,insertText:r.name,sortText:r.sortText,kind:t.convertKind(r.kind)}}))}]}}))}))},t.prototype.resolveCompletionItem=function(e,n,r,o){return c(this,void 0,void 0,(function(){var n,o,i,a,s;return l(this,(function(u){switch(u.label){case 0:return o=(n=r).uri,i=n.position,a=e.getOffsetAt(i),[4,this._worker(o)];case 1:return[4,u.sent().getCompletionEntryDetails(o.toString(),a,n.label)];case 2:return!(s=u.sent())||e.isDisposed()?[2,n]:[2,{uri:o,position:i,label:s.name,kind:t.convertKind(s.kind),detail:d(s.displayParts),documentation:{value:d(s.documentation)}}]}}))}))},t.convertKind=function(e){switch(e){case C.primitiveType:case C.keyword:return monaco.languages.CompletionItemKind.Keyword;case C.variable:case C.localVariable:return monaco.languages.CompletionItemKind.Variable;case C.memberVariable:case C.memberGetAccessor:case C.memberSetAccessor:return monaco.languages.CompletionItemKind.Field;case C.function:case C.memberFunction:case C.constructSignature:case C.callSignature:case C.indexSignature:return monaco.languages.CompletionItemKind.Function;case C.enum:return monaco.languages.CompletionItemKind.Enum;case C.module:return monaco.languages.CompletionItemKind.Module;case C.class:return monaco.languages.CompletionItemKind.Class;case C.interface:return monaco.languages.CompletionItemKind.Interface;case C.warning:return monaco.languages.CompletionItemKind.File}return monaco.languages.CompletionItemKind.Property},t}(h),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signatureHelpTriggerCharacters=["(",","],t}return u(t,e),t.prototype.provideSignatureHelp=function(e,t,n){return c(this,void 0,void 0,(function(){var n,r,o,i;return l(this,(function(a){switch(a.label){case 0:return n=e.uri,r=e.getOffsetAt(t),[4,this._worker(n)];case 1:return[4,a.sent().getSignatureHelpItems(n.toString(),r)];case 2:return!(o=a.sent())||e.isDisposed()?[2]:(i={activeSignature:o.selectedItemIndex,activeParameter:o.argumentIndex,signatures:[]},o.items.forEach((function(e){var t={label:"",parameters:[]};t.documentation=d(e.documentation),t.label+=d(e.prefixDisplayParts),e.parameters.forEach((function(n,r,o){var i=d(n.displayParts),a={label:i,documentation:d(n.documentation)};t.label+=i,t.parameters.push(a),r<o.length-1&&(t.label+=d(e.separatorDisplayParts))})),t.label+=d(e.suffixDisplayParts),i.signatures.push(t)})),[2,{value:i,dispose:function(){}}])}}))}))},t}(h),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideHover=function(e,t,n){return c(this,void 0,void 0,(function(){var n,r,o,i,a,s;return l(this,(function(u){switch(u.label){case 0:return n=e.uri,r=e.getOffsetAt(t),[4,this._worker(n)];case 1:return[4,u.sent().getQuickInfoAtPosition(n.toString(),r)];case 2:return!(o=u.sent())||e.isDisposed()?[2]:(i=d(o.documentation),a=o.tags?o.tags.map((function(e){var t="*@"+e.name+"*";return e.text?t+(e.text.match(/\r\n|\n/g)?" \n"+e.text:" - "+e.text):t})).join("  \n\n"):"",s=d(o.displayParts),[2,{range:this._textSpanToRange(e,o.textSpan),contents:[{value:"```js\n"+s+"\n```\n"},{value:i+(a?"\n\n"+a:"")}]}])}}))}))},t}(h),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideDocumentHighlights=function(e,t,n){return c(this,void 0,void 0,(function(){var n,r,o,i=this;return l(this,(function(a){switch(a.label){case 0:return n=e.uri,r=e.getOffsetAt(t),[4,this._worker(n)];case 1:return[4,a.sent().getOccurrencesAtPosition(n.toString(),r)];case 2:return!(o=a.sent())||e.isDisposed()?[2]:[2,o.map((function(t){return{range:i._textSpanToRange(e,t.textSpan),kind:t.isWriteAccess?monaco.languages.DocumentHighlightKind.Write:monaco.languages.DocumentHighlightKind.Text}}))]}}))}))},t}(h),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideDefinition=function(e,t,n){return c(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,f;return l(this,(function(l){switch(l.label){case 0:return n=e.uri,r=e.getOffsetAt(t),[4,this._worker(n)];case 1:return[4,l.sent().getDefinitionAtPosition(n.toString(),r)];case 2:if(!(o=l.sent())||e.isDisposed())return[2];for(i=[],a=0,s=o;a<s.length;a++)u=s[a],c=p.parse(u.fileName),(f=monaco.editor.getModel(c))&&i.push({uri:c,range:this._textSpanToRange(f,u.textSpan)});return[2,i]}}))}))},t}(h),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideReferences=function(e,t,n,r){return c(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,f;return l(this,(function(l){switch(l.label){case 0:return n=e.uri,r=e.getOffsetAt(t),[4,this._worker(n)];case 1:return[4,l.sent().getReferencesAtPosition(n.toString(),r)];case 2:if(!(o=l.sent())||e.isDisposed())return[2];for(i=[],a=0,s=o;a<s.length;a++)u=s[a],c=p.parse(u.fileName),(f=monaco.editor.getModel(c))&&i.push({uri:c,range:this._textSpanToRange(f,u.textSpan)});return[2,i]}}))}))},t}(h),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideDocumentSymbols=function(e,t){return c(this,void 0,void 0,(function(){var t,n,r,o,i=this;return l(this,(function(a){switch(a.label){case 0:return t=e.uri,[4,this._worker(t)];case 1:return[4,a.sent().getNavigationBarItems(t.toString())];case 2:return!(n=a.sent())||e.isDisposed()?[2]:(r=function(t,n,o){var a={name:n.text,detail:"",kind:A[n.kind]||monaco.languages.SymbolKind.Variable,range:i._textSpanToRange(e,n.spans[0]),selectionRange:i._textSpanToRange(e,n.spans[0]),tags:[],containerName:o};if(n.childItems&&n.childItems.length>0)for(var s=0,u=n.childItems;s<u.length;s++){var c=u[s];r(t,c,a.name)}t.push(a)},o=[],n.forEach((function(e){return r(o,e)})),[2,o])}}))}))},t}(h),C=function(){function e(){}return e.unknown="",e.keyword="keyword",e.script="script",e.module="module",e.class="class",e.interface="interface",e.type="type",e.enum="enum",e.variable="var",e.localVariable="local var",e.function="function",e.localFunction="local function",e.memberFunction="method",e.memberGetAccessor="getter",e.memberSetAccessor="setter",e.memberVariable="property",e.constructorImplementation="constructor",e.callSignature="call",e.indexSignature="index",e.constructSignature="construct",e.parameter="parameter",e.typeParameter="type parameter",e.primitiveType="primitive type",e.label="label",e.alias="alias",e.const="const",e.let="let",e.warning="warning",e}(),A=Object.create(null);A[C.module]=monaco.languages.SymbolKind.Module,A[C.class]=monaco.languages.SymbolKind.Class,A[C.enum]=monaco.languages.SymbolKind.Enum,A[C.interface]=monaco.languages.SymbolKind.Interface,A[C.memberFunction]=monaco.languages.SymbolKind.Method,A[C.memberVariable]=monaco.languages.SymbolKind.Property,A[C.memberGetAccessor]=monaco.languages.SymbolKind.Property,A[C.memberSetAccessor]=monaco.languages.SymbolKind.Property,A[C.variable]=monaco.languages.SymbolKind.Variable,A[C.const]=monaco.languages.SymbolKind.Variable,A[C.localVariable]=monaco.languages.SymbolKind.Variable,A[C.variable]=monaco.languages.SymbolKind.Variable,A[C.function]=monaco.languages.SymbolKind.Function,A[C.localFunction]=monaco.languages.SymbolKind.Function;var I,P,T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t._convertOptions=function(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:o.Smart,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}},t.prototype._convertTextChanges=function(e,t){return{text:t.newText,range:this._textSpanToRange(e,t.span)}},t}(h),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideDocumentRangeFormattingEdits=function(e,t,n,r){return c(this,void 0,void 0,(function(){var r,o,i,a,s=this;return l(this,(function(u){switch(u.label){case 0:return r=e.uri,o=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),i=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),[4,this._worker(r)];case 1:return[4,u.sent().getFormattingEditsForRange(r.toString(),o,i,T._convertOptions(n))];case 2:return!(a=u.sent())||e.isDisposed()?[2]:[2,a.map((function(t){return s._convertTextChanges(e,t)}))]}}))}))},t}(T),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),Object.defineProperty(t.prototype,"autoFormatTriggerCharacters",{get:function(){return[";","}","\n"]},enumerable:!0,configurable:!0}),t.prototype.provideOnTypeFormattingEdits=function(e,t,n,r,o){return c(this,void 0,void 0,(function(){var o,i,a,s=this;return l(this,(function(u){switch(u.label){case 0:return o=e.uri,i=e.getOffsetAt(t),[4,this._worker(o)];case 1:return[4,u.sent().getFormattingEditsAfterKeystroke(o.toString(),i,n,T._convertOptions(r))];case 2:return!(a=u.sent())||e.isDisposed()?[2]:[2,a.map((function(t){return s._convertTextChanges(e,t)}))]}}))}))},t}(T),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideCodeActions=function(e,t,n,r){return c(this,void 0,void 0,(function(){var r,o,i,a,s,u,c=this;return l(this,(function(l){switch(l.label){case 0:return r=e.uri,o=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),i=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),a=T._convertOptions(e.getOptions()),s=n.markers.filter((function(e){return e.code})).map((function(e){return e.code})).map(Number),[4,this._worker(r)];case 1:return[4,l.sent().getCodeFixesAtPosition(r.toString(),o,i,s,a)];case 2:return!(u=l.sent())||e.isDisposed()?[2]:[2,{actions:u.filter((function(e){return 0===e.changes.filter((function(e){return e.isNewFile})).length})).map((function(t){return c._tsCodeFixActionToMonacoCodeAction(e,n,t)})),dispose:function(){}}]}}))}))},t.prototype._tsCodeFixActionToMonacoCodeAction=function(e,t,n){for(var r=[],o=0,i=n.changes;o<i.length;o++)for(var a=0,s=i[o].textChanges;a<s.length;a++){var u=s[a];r.push({resource:e.uri,edit:{range:this._textSpanToRange(e,u.span),text:u.newText}})}return{title:n.description,edit:{edits:r},diagnostics:t.markers,kind:"quickfix"}},t}(T),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.provideRenameEdits=function(e,t,n,r){return c(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,p,f,g;return l(this,(function(l){switch(l.label){case 0:return r=e.uri,o=r.toString(),i=e.getOffsetAt(t),[4,this._worker(r)];case 1:return[4,(a=l.sent()).getRenameInfo(o,i,{allowRenameOfImportPath:!1})];case 2:if(!1===(s=l.sent()).canRename)return[2,{edits:[],rejectReason:s.localizedErrorMessage}];if(void 0!==s.fileToRename)throw new Error("Renaming files is not supported.");return[4,a.findRenameLocations(o,i,!1,!1,!1)];case 3:if(!(u=l.sent())||e.isDisposed())return[2];for(c=[],p=0,f=u;p<f.length;p++)g=f[p],c.push({resource:monaco.Uri.parse(g.fileName),edit:{range:this._textSpanToRange(e,g.textSpan),text:n}});return[2,{edits:c}]}}))}))},t}(h);function M(e){P=F(e,"typescript")}function K(e){I=F(e,"javascript")}function L(){return new Promise((function(e,t){if(!I)return t("JavaScript not registered!");e(I)}))}function R(){return new Promise((function(e,t){if(!P)return t("TypeScript not registered!");e(P)}))}function F(e,t){var n=new s(t,e),r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.getLanguageServiceWorker.apply(n,e)};return monaco.languages.registerCompletionItemProvider(t,new b(r)),monaco.languages.registerSignatureHelpProvider(t,new y(r)),monaco.languages.registerHoverProvider(t,new S(r)),monaco.languages.registerDocumentHighlightProvider(t,new _(r)),monaco.languages.registerDefinitionProvider(t,new w(r)),monaco.languages.registerReferenceProvider(t,new k(r)),monaco.languages.registerDocumentSymbolProvider(t,new x(r)),monaco.languages.registerDocumentRangeFormattingEditProvider(t,new D(r)),monaco.languages.registerOnTypeFormattingEditProvider(t,new O(r)),monaco.languages.registerCodeActionProvider(t,new N(r)),monaco.languages.registerRenameProvider(t,new E(r)),new v(e,t,r),r}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvdHlwZXNjcmlwdC93b3JrZXJNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS90eXBlc2NyaXB0L2xhbmd1YWdlRmVhdHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL3R5cGVzY3JpcHQvdHNNb2RlLmpzIl0sIm5hbWVzIjpbImV4dGVuZFN0YXRpY3MiLCJJbmRlbnRTdHlsZSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwidmFsdWUiLCJzdGVwIiwibmV4dCIsImUiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0aGlzIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiV29ya2VyTWFuYWdlciIsIm1vZGVJZCIsImRlZmF1bHRzIiwiX3RoaXMiLCJfbW9kZUlkIiwiX2RlZmF1bHRzIiwiX3dvcmtlciIsIl9jbGllbnQiLCJfY29uZmlnQ2hhbmdlTGlzdGVuZXIiLCJvbkRpZENoYW5nZSIsIl9zdG9wV29ya2VyIiwiX3VwZGF0ZUV4dHJhTGlic1Rva2VuIiwiX2V4dHJhTGlic0NoYW5nZUxpc3RlbmVyIiwib25EaWRFeHRyYUxpYnNDaGFuZ2UiLCJfdXBkYXRlRXh0cmFMaWJzIiwicHJvdG90eXBlIiwiZGlzcG9zZSIsIm15VG9rZW4iLCJwcm94eSIsIl9hIiwiZ2V0UHJveHkiLCJ1cGRhdGVFeHRyYUxpYnMiLCJnZXRFeHRyYUxpYnMiLCJfZ2V0Q2xpZW50IiwibW9uYWNvIiwiZWRpdG9yIiwiY3JlYXRlV2ViV29ya2VyIiwibW9kdWxlSWQiLCJrZWVwSWRsZU1vZGVscyIsImNyZWF0ZURhdGEiLCJjb21waWxlck9wdGlvbnMiLCJnZXRDb21waWxlck9wdGlvbnMiLCJleHRyYUxpYnMiLCJwIiwiZ2V0RWFnZXJNb2RlbFN5bmMiLCJ3b3JrZXIiLCJ3aXRoU3luY2VkUmVzb3VyY2VzIiwiZ2V0TW9kZWxzIiwiZmlsdGVyIiwibW9kZWwiLCJnZXRNb2RlSWQiLCJtYXAiLCJ1cmkiLCJnZXRMYW5ndWFnZVNlcnZpY2VXb3JrZXIiLCJyZXNvdXJjZXMiLCJfaSIsImFyZ3VtZW50cyIsImNsaWVudCIsIl9fZXh0ZW5kcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIlVyaSIsIlJhbmdlIiwiZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dCIsImRpYWciLCJuZXdMaW5lIiwiaW5kZW50IiwidW5kZWZpbmVkIiwiaSIsIm1lc3NhZ2VUZXh0IiwiZGlzcGxheVBhcnRzVG9TdHJpbmciLCJkaXNwbGF5UGFydHMiLCJkaXNwbGF5UGFydCIsInRleHQiLCJqb2luIiwiRGlhZ25vc3RpY0NhdGVnb3J5IiwiQWRhcHRlciIsIl90ZXh0U3BhblRvUmFuZ2UiLCJzcGFuIiwicDEiLCJnZXRQb3NpdGlvbkF0Iiwic3RhcnQiLCJwMiIsInN0YXJ0TGluZU51bWJlciIsImxpbmVOdW1iZXIiLCJzdGFydENvbHVtbiIsImNvbHVtbiIsImVuZExpbmVOdW1iZXIiLCJlbmRDb2x1bW4iLCJEaWFnbm9zdGljc0FkYXB0ZXIiLCJfc3VwZXIiLCJfc2VsZWN0b3IiLCJfZGlzcG9zYWJsZXMiLCJfbGlzdGVuZXIiLCJvbk1vZGVsQWRkIiwiaGFuZGxlIiwiY2hhbmdlU3Vic2NyaXB0aW9uIiwib25EaWRDaGFuZ2VDb250ZW50IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIl9kb1ZhbGlkYXRlIiwidG9TdHJpbmciLCJvbk1vZGVsUmVtb3ZlZCIsInNldE1vZGVsTWFya2VycyIsImtleSIsIm9uRGlkQ3JlYXRlTW9kZWwiLCJvbldpbGxEaXNwb3NlTW9kZWwiLCJvbkRpZENoYW5nZU1vZGVsTGFuZ3VhZ2UiLCJldmVudCIsInJlY29tcHV0ZURpYWdvc3RpY3MiLCJmb3JFYWNoIiwicHJvbWlzZXMiLCJub1N5bnRheFZhbGlkYXRpb24iLCJub1NlbWFudGljVmFsaWRhdGlvbiIsIm5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzIiwiZGlhZ25vc3RpY3MiLCJtYXJrZXJzIiwiX2IiLCJpc0Rpc3Bvc2VkIiwiZ2V0RGlhZ25vc3RpY3NPcHRpb25zIiwiZ2V0U3ludGFjdGljRGlhZ25vc3RpY3MiLCJnZXRTZW1hbnRpY0RpYWdub3N0aWNzIiwiZ2V0U3VnZ2VzdGlvbkRpYWdub3N0aWNzIiwiYWxsIiwicmVkdWNlIiwiYyIsImNvbmNhdCIsImRpYWdub3N0aWNDb2Rlc1RvSWdub3JlIiwiaW5kZXhPZiIsImNvZGUiLCJfY29udmVydERpYWdub3N0aWNzIiwiZGlhZ1N0YXJ0IiwiZGlhZ0xlbmd0aCIsInNldmVyaXR5IiwiX3RzRGlhZ25vc3RpY0NhdGVnb3J5VG9NYXJrZXJTZXZlcml0eSIsImNhdGVnb3J5IiwibWVzc2FnZSIsInRhZ3MiLCJyZXBvcnRzVW5uZWNlc3NhcnkiLCJNYXJrZXJUYWciLCJVbm5lY2Vzc2FyeSIsInJlbGF0ZWRJbmZvcm1hdGlvbiIsIl9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uIiwiaW5mbyIsInJlbGF0ZWRSZXNvdXJjZSIsImZpbGUiLCJyZWxhdGVkUmVzb3VyY2VVcmkiLCJwYXJzZSIsImZpbGVOYW1lIiwiZ2V0TW9kZWwiLCJpbmZvU3RhcnQiLCJpbmZvTGVuZ3RoIiwicmVzb3VyY2UiLCJFcnJvciIsIk1hcmtlclNldmVyaXR5IiwiTWVzc2FnZSIsIkluZm8iLCJXYXJuaW5nIiwiU3VnZ2VzdGlvbiIsIkhpbnQiLCJTdWdnZXN0QWRhcHRlciIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInByb3ZpZGVDb21wbGV0aW9uSXRlbXMiLCJwb3NpdGlvbiIsIl9jb250ZXh0IiwidG9rZW4iLCJ3b3JkSW5mbyIsIndvcmRSYW5nZSIsIm9mZnNldCIsImdldFdvcmRVbnRpbFBvc2l0aW9uIiwiZ2V0T2Zmc2V0QXQiLCJnZXRDb21wbGV0aW9uc0F0UG9zaXRpb24iLCJzdWdnZXN0aW9ucyIsImVudHJpZXMiLCJlbnRyeSIsInJhbmdlIiwicmVwbGFjZW1lbnRTcGFuIiwibmFtZSIsImluc2VydFRleHQiLCJzb3J0VGV4dCIsImtpbmQiLCJjb252ZXJ0S2luZCIsInJlc29sdmVDb21wbGV0aW9uSXRlbSIsIl9wb3NpdGlvbiIsIml0ZW0iLCJteUl0ZW0iLCJkZXRhaWxzIiwiZ2V0Q29tcGxldGlvbkVudHJ5RGV0YWlscyIsImRldGFpbCIsImRvY3VtZW50YXRpb24iLCJLaW5kIiwicHJpbWl0aXZlVHlwZSIsImtleXdvcmQiLCJsYW5ndWFnZXMiLCJDb21wbGV0aW9uSXRlbUtpbmQiLCJLZXl3b3JkIiwidmFyaWFibGUiLCJsb2NhbFZhcmlhYmxlIiwiVmFyaWFibGUiLCJtZW1iZXJWYXJpYWJsZSIsIm1lbWJlckdldEFjY2Vzc29yIiwibWVtYmVyU2V0QWNjZXNzb3IiLCJGaWVsZCIsImZ1bmN0aW9uIiwibWVtYmVyRnVuY3Rpb24iLCJjb25zdHJ1Y3RTaWduYXR1cmUiLCJjYWxsU2lnbmF0dXJlIiwiaW5kZXhTaWduYXR1cmUiLCJGdW5jdGlvbiIsImVudW0iLCJFbnVtIiwibW9kdWxlIiwiTW9kdWxlIiwiY2xhc3MiLCJDbGFzcyIsImludGVyZmFjZSIsIkludGVyZmFjZSIsIndhcm5pbmciLCJGaWxlIiwiUHJvcGVydHkiLCJTaWduYXR1cmVIZWxwQWRhcHRlciIsInNpZ25hdHVyZUhlbHBUcmlnZ2VyQ2hhcmFjdGVycyIsInByb3ZpZGVTaWduYXR1cmVIZWxwIiwicmV0IiwiZ2V0U2lnbmF0dXJlSGVscEl0ZW1zIiwiYWN0aXZlU2lnbmF0dXJlIiwic2VsZWN0ZWRJdGVtSW5kZXgiLCJhY3RpdmVQYXJhbWV0ZXIiLCJhcmd1bWVudEluZGV4Iiwic2lnbmF0dXJlcyIsIml0ZW1zIiwic2lnbmF0dXJlIiwicGFyYW1ldGVycyIsInByZWZpeERpc3BsYXlQYXJ0cyIsImEiLCJwYXJhbWV0ZXIiLCJzZXBhcmF0b3JEaXNwbGF5UGFydHMiLCJzdWZmaXhEaXNwbGF5UGFydHMiLCJRdWlja0luZm9BZGFwdGVyIiwicHJvdmlkZUhvdmVyIiwiY29udGVudHMiLCJnZXRRdWlja0luZm9BdFBvc2l0aW9uIiwidGFnIiwibWF0Y2giLCJ0ZXh0U3BhbiIsIk9jY3VycmVuY2VzQWRhcHRlciIsInByb3ZpZGVEb2N1bWVudEhpZ2hsaWdodHMiLCJnZXRPY2N1cnJlbmNlc0F0UG9zaXRpb24iLCJpc1dyaXRlQWNjZXNzIiwiRG9jdW1lbnRIaWdobGlnaHRLaW5kIiwiV3JpdGUiLCJUZXh0IiwiRGVmaW5pdGlvbkFkYXB0ZXIiLCJwcm92aWRlRGVmaW5pdGlvbiIsImVudHJpZXNfMSIsInJlZk1vZGVsIiwiZ2V0RGVmaW5pdGlvbkF0UG9zaXRpb24iLCJSZWZlcmVuY2VBZGFwdGVyIiwicHJvdmlkZVJlZmVyZW5jZXMiLCJjb250ZXh0IiwiZW50cmllc18yIiwiZ2V0UmVmZXJlbmNlc0F0UG9zaXRpb24iLCJPdXRsaW5lQWRhcHRlciIsInByb3ZpZGVEb2N1bWVudFN5bWJvbHMiLCJjb252ZXJ0IiwiZ2V0TmF2aWdhdGlvbkJhckl0ZW1zIiwiYnVja2V0IiwiY29udGFpbmVyTGFiZWwiLCJvdXRsaW5lVHlwZVRhYmxlIiwiU3ltYm9sS2luZCIsInNwYW5zIiwic2VsZWN0aW9uUmFuZ2UiLCJjb250YWluZXJOYW1lIiwiY2hpbGRJdGVtcyIsImNoaWxkIiwidW5rbm93biIsInNjcmlwdCIsInR5cGUiLCJsb2NhbEZ1bmN0aW9uIiwiY29uc3RydWN0b3JJbXBsZW1lbnRhdGlvbiIsInR5cGVQYXJhbWV0ZXIiLCJhbGlhcyIsImNvbnN0IiwibGV0IiwiTWV0aG9kIiwiamF2YVNjcmlwdFdvcmtlciIsInR5cGVTY3JpcHRXb3JrZXIiLCJGb3JtYXRIZWxwZXIiLCJfY29udmVydE9wdGlvbnMiLCJvcHRpb25zIiwiQ29udmVydFRhYnNUb1NwYWNlcyIsImluc2VydFNwYWNlcyIsIlRhYlNpemUiLCJ0YWJTaXplIiwiSW5kZW50U2l6ZSIsIlNtYXJ0IiwiTmV3TGluZUNoYXJhY3RlciIsIkluc2VydFNwYWNlQWZ0ZXJDb21tYURlbGltaXRlciIsIkluc2VydFNwYWNlQWZ0ZXJTZW1pY29sb25JbkZvclN0YXRlbWVudHMiLCJJbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzIiwiSW5zZXJ0U3BhY2VBZnRlcktleXdvcmRzSW5Db250cm9sRmxvd1N0YXRlbWVudHMiLCJJbnNlcnRTcGFjZUFmdGVyRnVuY3Rpb25LZXl3b3JkRm9yQW5vbnltb3VzRnVuY3Rpb25zIiwiSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlQYXJlbnRoZXNpcyIsIkluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHMiLCJJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdUZW1wbGF0ZVN0cmluZ0JyYWNlcyIsIlBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrcyIsIlBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yRnVuY3Rpb25zIiwiX2NvbnZlcnRUZXh0Q2hhbmdlcyIsImNoYW5nZSIsIm5ld1RleHQiLCJGb3JtYXRBZGFwdGVyIiwicHJvdmlkZURvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdHMiLCJzdGFydE9mZnNldCIsImVuZE9mZnNldCIsImVkaXRzIiwiZ2V0Rm9ybWF0dGluZ0VkaXRzRm9yUmFuZ2UiLCJlZGl0IiwiRm9ybWF0T25UeXBlQWRhcHRlciIsInByb3ZpZGVPblR5cGVGb3JtYXR0aW5nRWRpdHMiLCJjaCIsImdldEZvcm1hdHRpbmdFZGl0c0FmdGVyS2V5c3Ryb2tlIiwiQ29kZUFjdGlvbkFkYXB0b3IiLCJwcm92aWRlQ29kZUFjdGlvbnMiLCJlbmQiLCJmb3JtYXRPcHRpb25zIiwiZXJyb3JDb2RlcyIsImNvZGVGaXhlcyIsImdldE9wdGlvbnMiLCJtIiwiTnVtYmVyIiwiZ2V0Q29kZUZpeGVzQXRQb3NpdGlvbiIsImFjdGlvbnMiLCJmaXgiLCJjaGFuZ2VzIiwiaXNOZXdGaWxlIiwiX3RzQ29kZUZpeEFjdGlvblRvTW9uYWNvQ29kZUFjdGlvbiIsImNvZGVGaXgiLCJfYyIsInRleHRDaGFuZ2VzIiwidGV4dENoYW5nZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJSZW5hbWVBZGFwdGVyIiwicHJvdmlkZVJlbmFtZUVkaXRzIiwibmV3TmFtZSIsInJlbmFtZUluZm8iLCJyZW5hbWVMb2NhdGlvbnMiLCJyZW5hbWVMb2NhdGlvbnNfMSIsInJlbmFtZUxvY2F0aW9uIiwiZ2V0UmVuYW1lSW5mbyIsImFsbG93UmVuYW1lT2ZJbXBvcnRQYXRoIiwiY2FuUmVuYW1lIiwicmVqZWN0UmVhc29uIiwibG9jYWxpemVkRXJyb3JNZXNzYWdlIiwiZmlsZVRvUmVuYW1lIiwiZmluZFJlbmFtZUxvY2F0aW9ucyIsInNldHVwVHlwZVNjcmlwdCIsInNldHVwTW9kZSIsInNldHVwSmF2YVNjcmlwdCIsImdldEphdmFTY3JpcHRXb3JrZXIiLCJnZXRUeXBlU2NyaXB0V29ya2VyIiwidXJpcyIsInJlZ2lzdGVyQ29tcGxldGlvbkl0ZW1Qcm92aWRlciIsInJlZ2lzdGVyU2lnbmF0dXJlSGVscFByb3ZpZGVyIiwicmVnaXN0ZXJIb3ZlclByb3ZpZGVyIiwicmVnaXN0ZXJEb2N1bWVudEhpZ2hsaWdodFByb3ZpZGVyIiwicmVnaXN0ZXJEZWZpbml0aW9uUHJvdmlkZXIiLCJyZWdpc3RlclJlZmVyZW5jZVByb3ZpZGVyIiwicmVnaXN0ZXJEb2N1bWVudFN5bWJvbFByb3ZpZGVyIiwicmVnaXN0ZXJEb2N1bWVudFJhbmdlRm9ybWF0dGluZ0VkaXRQcm92aWRlciIsInJlZ2lzdGVyT25UeXBlRm9ybWF0dGluZ0VkaXRQcm92aWRlciIsInJlZ2lzdGVyQ29kZUFjdGlvblByb3ZpZGVyIiwicmVnaXN0ZXJSZW5hbWVQcm92aWRlciJdLCJtYXBwaW5ncyI6IjBTQUtBLElDQ1FBLEVBbURKQyxFRHBEQUMsRUFBd0MsU0FBVUMsRUFBU0MsRUFBWUMsRUFBR0MsR0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJRSxXQUFVLFNBQVVDLEVBQVNDLEdBQy9DLFNBQVNDLEVBQVVDLEdBQVMsSUFBTUMsRUFBS04sRUFBVU8sS0FBS0YsSUFBVyxNQUFPRyxHQUFLTCxFQUFPSyxJQUNwRixTQUFTQyxFQUFTSixHQUFTLElBQU1DLEVBQUtOLEVBQWlCLE1BQUVLLElBQVcsTUFBT0csR0FBS0wsRUFBT0ssSUFDdkYsU0FBU0YsRUFBS0ksR0FKbEIsSUFBZUwsRUFJYUssRUFBT0MsS0FBT1QsRUFBUVEsRUFBT0wsUUFKMUNBLEVBSXlESyxFQUFPTCxNQUpoREEsYUFBaUJOLEVBQUlNLEVBQVEsSUFBSU4sR0FBRSxTQUFVRyxHQUFXQSxFQUFRRyxPQUlUTyxLQUFLUixFQUFXSyxHQUNsR0gsR0FBTU4sRUFBWUEsRUFBVWEsTUFBTWhCLEVBQVNDLEdBQWMsS0FBS1MsWUFHbEVPLEVBQTRDLFNBQVVqQixFQUFTa0IsR0FDL0QsSUFBc0dDLEVBQUdDLEVBQUdDLEVBQUdDLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUEosRUFBRSxHQUFRLE1BQU1BLEVBQUUsR0FBSSxPQUFPQSxFQUFFLElBQU9LLEtBQU0sR0FBSUMsSUFBSyxJQUNoRyxPQUFPTCxFQUFJLENBQUVaLEtBQU1rQixFQUFLLEdBQUksTUFBU0EsRUFBSyxHQUFJLE9BQVVBLEVBQUssSUFBd0IsbUJBQVhDLFNBQTBCUCxFQUFFTyxPQUFPQyxVQUFZLFdBQWEsT0FBT0MsT0FBVVQsRUFDdkosU0FBU00sRUFBS0ksR0FBSyxPQUFPLFNBQVVDLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9aLEdBQUcsSUFDTixHQUFJSixFQUFJLEVBQUdDLElBQU1DLEVBQVksRUFBUmEsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPQyxFQUFJRCxFQUFVLFNBQU1DLEVBQUVlLEtBQUtoQixHQUFJLEdBQUtBLEVBQUVWLFNBQVdXLEVBQUlBLEVBQUVlLEtBQUtoQixFQUFHYyxFQUFHLEtBQUtwQixLQUFNLE9BQU9PLEVBRTNKLE9BRElELEVBQUksRUFBR0MsSUFBR2EsRUFBSyxDQUFTLEVBQVJBLEVBQUcsR0FBUWIsRUFBRWIsUUFDekIwQixFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBR2IsRUFBSWEsRUFBSSxNQUN4QixLQUFLLEVBQWMsT0FBWFgsRUFBRUMsUUFBZ0IsQ0FBRWhCLE1BQU8wQixFQUFHLEdBQUlwQixNQUFNLEdBQ2hELEtBQUssRUFBR1MsRUFBRUMsUUFBU0osRUFBSWMsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtYLEVBQUVJLElBQUlVLE1BQU9kLEVBQUVHLEtBQUtXLE1BQU8sU0FDeEMsUUFDSSxLQUFNaEIsRUFBSUUsRUFBRUcsTUFBTUwsRUFBSUEsRUFBRWlCLE9BQVMsR0FBS2pCLEVBQUVBLEVBQUVpQixPQUFTLEtBQWtCLElBQVZKLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVYLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZXLEVBQUcsTUFBY2IsR0FBTWEsRUFBRyxHQUFLYixFQUFFLElBQU1hLEVBQUcsR0FBS2IsRUFBRSxJQUFNLENBQUVFLEVBQUVDLE1BQVFVLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVgsRUFBRUMsTUFBUUgsRUFBRSxHQUFJLENBQUVFLEVBQUVDLE1BQVFILEVBQUUsR0FBSUEsRUFBSWEsRUFBSSxNQUM3RCxHQUFJYixHQUFLRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUksQ0FBRUUsRUFBRUMsTUFBUUgsRUFBRSxHQUFJRSxFQUFFSSxJQUFJWSxLQUFLTCxHQUFLLE1BQ3ZEYixFQUFFLElBQUlFLEVBQUVJLElBQUlVLE1BQ2hCZCxFQUFFRyxLQUFLVyxNQUFPLFNBRXRCSCxFQUFLaEIsRUFBS2tCLEtBQUtwQyxFQUFTdUIsR0FDMUIsTUFBT1osR0FBS3VCLEVBQUssQ0FBQyxFQUFHdkIsR0FBSVMsRUFBSSxFQUFLLFFBQVVELEVBQUlFLEVBQUksRUFDdEQsR0FBWSxFQUFSYSxFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRTFCLE1BQU8wQixFQUFHLEdBQUtBLEVBQUcsUUFBSyxFQUFRcEIsTUFBTSxHQXJCOUJMLENBQUssQ0FBQ3VCLEVBQUdDLE9Bd0J6RE8sRUFBK0IsV0FDL0IsU0FBU0EsRUFBY0MsRUFBUUMsR0FDM0IsSUFBSUMsRUFBUVosS0FDWkEsS0FBS2EsUUFBVUgsRUFDZlYsS0FBS2MsVUFBWUgsRUFDakJYLEtBQUtlLFFBQVUsS0FDZmYsS0FBS2dCLFFBQVUsS0FDZmhCLEtBQUtpQixzQkFBd0JqQixLQUFLYyxVQUFVSSxhQUFZLFdBQWMsT0FBT04sRUFBTU8saUJBQ25GbkIsS0FBS29CLHNCQUF3QixFQUM3QnBCLEtBQUtxQix5QkFBMkJyQixLQUFLYyxVQUFVUSxzQkFBcUIsV0FBYyxPQUFPVixFQUFNVyxzQkFpRm5HLE9BL0VBZCxFQUFjZSxVQUFVTCxZQUFjLFdBQzlCbkIsS0FBS2UsVUFDTGYsS0FBS2UsUUFBUVUsVUFDYnpCLEtBQUtlLFFBQVUsTUFFbkJmLEtBQUtnQixRQUFVLE1BRW5CUCxFQUFjZSxVQUFVQyxRQUFVLFdBQzlCekIsS0FBS2lCLHNCQUFzQlEsVUFDM0J6QixLQUFLcUIseUJBQXlCSSxVQUM5QnpCLEtBQUttQixlQUVUVixFQUFjZSxVQUFVRCxpQkFBbUIsV0FDdkMsT0FBT3ZELEVBQVVnQyxVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFJMEIsRUFBU0MsRUFDYixPQUFPekMsRUFBWWMsTUFBTSxTQUFVNEIsR0FDL0IsT0FBUUEsRUFBR25DLE9BQ1AsS0FBSyxFQUNELE9BQUtPLEtBQUtlLFNBR1ZXLElBQVkxQixLQUFLb0Isc0JBQ1YsQ0FBQyxFQUFhcEIsS0FBS2UsUUFBUWMsYUFIdkIsQ0FBQyxHQUloQixLQUFLLEVBRUQsT0FEQUYsRUFBUUMsRUFBR2xDLE9BQ1BNLEtBQUtvQix3QkFBMEJNLEVBRXhCLENBQUMsSUFFWkMsRUFBTUcsZ0JBQWdCOUIsS0FBS2MsVUFBVWlCLGdCQUM5QixDQUFDLFlBSzVCdEIsRUFBY2UsVUFBVVEsV0FBYSxXQUNqQyxJQUFJcEIsRUFBUVosS0FDWixJQUFLQSxLQUFLZ0IsUUFBUyxDQUNmaEIsS0FBS2UsUUFBVWtCLE9BQU9DLE9BQU9DLGdCQUFnQixDQUV6Q0MsU0FBVSxrQ0FDVjNDLE1BQU9PLEtBQUthLFFBQ1p3QixnQkFBZ0IsRUFFaEJDLFdBQVksQ0FDUkMsZ0JBQWlCdkMsS0FBS2MsVUFBVTBCLHFCQUNoQ0MsVUFBV3pDLEtBQUtjLFVBQVVpQixrQkFHbEMsSUFBSVcsRUFBSTFDLEtBQUtlLFFBQVFjLFdBQ2pCN0IsS0FBS2MsVUFBVTZCLHNCQUNmRCxFQUFJQSxFQUFFMUQsTUFBSyxTQUFVNEQsR0FDakIsT0FBSWhDLEVBQU1HLFFBQ0NILEVBQU1HLFFBQVE4QixvQkFBb0JaLE9BQU9DLE9BQU9ZLFlBQ2xEQyxRQUFPLFNBQVVDLEdBQVMsT0FBT0EsRUFBTUMsY0FBZ0JyQyxFQUFNQyxXQUM3RHFDLEtBQUksU0FBVUYsR0FBUyxPQUFPQSxFQUFNRyxRQUV0Q1AsTUFHZjVDLEtBQUtnQixRQUFVMEIsRUFFbkIsT0FBTzFDLEtBQUtnQixTQUVoQlAsRUFBY2UsVUFBVTRCLHlCQUEyQixXQUcvQyxJQUZBLElBS0lwQyxFQUxBSixFQUFRWixLQUNScUQsRUFBWSxHQUNQQyxFQUFLLEVBQUdBLEVBQUtDLFVBQVVoRCxPQUFRK0MsSUFDcENELEVBQVVDLEdBQU1DLFVBQVVELEdBRzlCLE9BQU90RCxLQUFLZ0MsYUFBYWhELE1BQUssU0FBVXdFLEdBQ3BDeEMsRUFBVXdDLEtBQ1h4RSxNQUFLLFNBQVVRLEdBQ2QsR0FBSW9CLEVBQU1HLFFBQ04sT0FBT0gsRUFBTUcsUUFBUThCLG9CQUFvQlEsTUFFOUNyRSxNQUFLLFNBQVVRLEdBQUssT0FBT3dCLE1BRTNCUCxFQTFGdUIsR0NwQzlCZ0QsR0FDSTNGLEVBQWdCLFNBQVU0RixFQUFHQyxHQUk3QixPQUhBN0YsRUFBZ0I4RixPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSWpCLEtBQUtpQixFQUFPQSxFQUFFSyxlQUFldEIsS0FBSWdCLEVBQUVoQixHQUFLaUIsRUFBRWpCLE1BQ3BEZ0IsRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FFaEIsU0FBU00sSUFBT2pFLEtBQUtrRSxZQUFjUixFQURuQzVGLEVBQWM0RixFQUFHQyxHQUVqQkQsRUFBRWxDLFVBQWtCLE9BQU5tQyxFQUFhQyxPQUFPTyxPQUFPUixJQUFNTSxFQUFHekMsVUFBWW1DLEVBQUVuQyxVQUFXLElBQUl5QyxLQUduRixFQUF3QyxTQUFVaEcsRUFBU0MsRUFBWUMsRUFBR0MsR0FFMUUsT0FBTyxJQUFLRCxJQUFNQSxFQUFJRSxXQUFVLFNBQVVDLEVBQVNDLEdBQy9DLFNBQVNDLEVBQVVDLEdBQVMsSUFBTUMsRUFBS04sRUFBVU8sS0FBS0YsSUFBVyxNQUFPRyxHQUFLTCxFQUFPSyxJQUNwRixTQUFTQyxFQUFTSixHQUFTLElBQU1DLEVBQUtOLEVBQWlCLE1BQUVLLElBQVcsTUFBT0csR0FBS0wsRUFBT0ssSUFDdkYsU0FBU0YsRUFBS0ksR0FKbEIsSUFBZUwsRUFJYUssRUFBT0MsS0FBT1QsRUFBUVEsRUFBT0wsUUFKMUNBLEVBSXlESyxFQUFPTCxNQUpoREEsYUFBaUJOLEVBQUlNLEVBQVEsSUFBSU4sR0FBRSxTQUFVRyxHQUFXQSxFQUFRRyxPQUlUTyxLQUFLUixFQUFXSyxHQUNsR0gsR0FBTU4sRUFBWUEsRUFBVWEsTUFBTWhCLEVBQVNDLEdBQWMsS0FBS1MsWUFHbEUsRUFBNEMsU0FBVVYsRUFBU2tCLEdBQy9ELElBQXNHQyxFQUFHQyxFQUFHQyxFQUFHQyxFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBKLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPSyxLQUFNLEdBQUlDLElBQUssSUFDaEcsT0FBT0wsRUFBSSxDQUFFWixLQUFNa0IsRUFBSyxHQUFJLE1BQVNBLEVBQUssR0FBSSxPQUFVQSxFQUFLLElBQXdCLG1CQUFYQyxTQUEwQlAsRUFBRU8sT0FBT0MsVUFBWSxXQUFhLE9BQU9DLE9BQVVULEVBQ3ZKLFNBQVNNLEVBQUtJLEdBQUssT0FBTyxTQUFVQyxHQUFLLE9BQ3pDLFNBQWNDLEdBQ1YsR0FBSWYsRUFBRyxNQUFNLElBQUlnQixVQUFVLG1DQUMzQixLQUFPWixHQUFHLElBQ04sR0FBSUosRUFBSSxFQUFHQyxJQUFNQyxFQUFZLEVBQVJhLEVBQUcsR0FBU2QsRUFBVSxPQUFJYyxFQUFHLEdBQUtkLEVBQVMsU0FBT0MsRUFBSUQsRUFBVSxTQUFNQyxFQUFFZSxLQUFLaEIsR0FBSSxHQUFLQSxFQUFFVixTQUFXVyxFQUFJQSxFQUFFZSxLQUFLaEIsRUFBR2MsRUFBRyxLQUFLcEIsS0FBTSxPQUFPTyxFQUUzSixPQURJRCxFQUFJLEVBQUdDLElBQUdhLEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVFiLEVBQUViLFFBQ3pCMEIsRUFBRyxJQUNQLEtBQUssRUFBRyxLQUFLLEVBQUdiLEVBQUlhLEVBQUksTUFDeEIsS0FBSyxFQUFjLE9BQVhYLEVBQUVDLFFBQWdCLENBQUVoQixNQUFPMEIsRUFBRyxHQUFJcEIsTUFBTSxHQUNoRCxLQUFLLEVBQUdTLEVBQUVDLFFBQVNKLEVBQUljLEVBQUcsR0FBSUEsRUFBSyxDQUFDLEdBQUksU0FDeEMsS0FBSyxFQUFHQSxFQUFLWCxFQUFFSSxJQUFJVSxNQUFPZCxFQUFFRyxLQUFLVyxNQUFPLFNBQ3hDLFFBQ0ksS0FBTWhCLEVBQUlFLEVBQUVHLE1BQU1MLEVBQUlBLEVBQUVpQixPQUFTLEdBQUtqQixFQUFFQSxFQUFFaUIsT0FBUyxLQUFrQixJQUFWSixFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFWCxFQUFJLEVBQUcsU0FDakcsR0FBYyxJQUFWVyxFQUFHLE1BQWNiLEdBQU1hLEVBQUcsR0FBS2IsRUFBRSxJQUFNYSxFQUFHLEdBQUtiLEVBQUUsSUFBTSxDQUFFRSxFQUFFQyxNQUFRVSxFQUFHLEdBQUksTUFDOUUsR0FBYyxJQUFWQSxFQUFHLElBQVlYLEVBQUVDLE1BQVFILEVBQUUsR0FBSSxDQUFFRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUlBLEVBQUlhLEVBQUksTUFDN0QsR0FBSWIsR0FBS0UsRUFBRUMsTUFBUUgsRUFBRSxHQUFJLENBQUVFLEVBQUVDLE1BQVFILEVBQUUsR0FBSUUsRUFBRUksSUFBSVksS0FBS0wsR0FBSyxNQUN2RGIsRUFBRSxJQUFJRSxFQUFFSSxJQUFJVSxNQUNoQmQsRUFBRUcsS0FBS1csTUFBTyxTQUV0QkgsRUFBS2hCLEVBQUtrQixLQUFLcEMsRUFBU3VCLEdBQzFCLE1BQU9aLEdBQUt1QixFQUFLLENBQUMsRUFBR3ZCLEdBQUlTLEVBQUksRUFBSyxRQUFVRCxFQUFJRSxFQUFJLEVBQ3RELEdBQVksRUFBUmEsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUUxQixNQUFPMEIsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUXBCLE1BQU0sR0FyQjlCTCxDQUFLLENBQUN1QixFQUFHQyxPQXdCekRrRSxFQUFNbkMsT0FBT21DLElBQ2JDLEVBQVFwQyxPQUFPb0MsTUFRWixTQUFTQyxFQUE2QkMsRUFBTUMsRUFBU0MsR0FFeEQsUUFEZSxJQUFYQSxJQUFxQkEsRUFBUyxHQUNkLGlCQUFURixFQUNQLE9BQU9BLEVBRU4sUUFBYUcsSUFBVEgsRUFDTCxNQUFPLEdBRVgsSUFBSXpGLEVBQVMsR0FDYixHQUFJMkYsRUFBUSxDQUNSM0YsR0FBVTBGLEVBQ1YsSUFBSyxJQUFJRyxFQUFJLEVBQUdBLEVBQUlGLEVBQVFFLElBQ3hCN0YsR0FBVSxLQUtsQixHQUZBQSxHQUFVeUYsRUFBS0ssWUFDZkgsSUFDSUYsRUFBSzVGLEtBQ0wsSUFBSyxJQUFJMkUsRUFBSyxFQUFHMUIsRUFBSzJDLEVBQUs1RixLQUFNMkUsRUFBSzFCLEVBQUdyQixPQUFRK0MsSUFBTSxDQUVuRHhFLEdBQVV3RixFQURBMUMsRUFBRzBCLEdBQytCa0IsRUFBU0MsR0FHN0QsT0FBTzNGLEVBRVgsU0FBUytGLEVBQXFCQyxHQUMxQixPQUFJQSxFQUNPQSxFQUFhNUIsS0FBSSxTQUFVNkIsR0FBZSxPQUFPQSxFQUFZQyxRQUFTQyxLQUFLLElBRS9FLElBbENYLFNBQVdsSCxHQUNQQSxFQUFZQSxFQUFrQixLQUFJLEdBQUssT0FDdkNBLEVBQVlBLEVBQW1CLE1BQUksR0FBSyxRQUN4Q0EsRUFBWUEsRUFBbUIsTUFBSSxHQUFLLFFBSDVDLENBSUdBLElBQWdCQSxFQUFjLEtBaUNqQyxJQXFCSW1ILEVBckJBQyxFQUF5QixXQUN6QixTQUFTQSxFQUFRcEUsR0FDYmYsS0FBS2UsUUFBVUEsRUFlbkIsT0FQQW9FLEVBQVEzRCxVQUFVNEQsaUJBQW1CLFNBQVVwQyxFQUFPcUMsR0FDbEQsSUFBSUMsRUFBS3RDLEVBQU11QyxjQUFjRixFQUFLRyxPQUM5QkMsRUFBS3pDLEVBQU11QyxjQUFjRixFQUFLRyxNQUFRSCxFQUFLOUUsUUFHL0MsTUFBTyxDQUFFbUYsZ0JBRmFKLEVBQUdLLFdBRWtCQyxZQUZRTixFQUFHTyxPQUVlQyxjQURqREwsRUFBR0UsV0FDNEVJLFVBRHBETixFQUFHSSxTQUcvQ1YsRUFqQmlCLElBc0I1QixTQUFXRCxHQUNQQSxFQUFtQkEsRUFBNEIsUUFBSSxHQUFLLFVBQ3hEQSxFQUFtQkEsRUFBMEIsTUFBSSxHQUFLLFFBQ3REQSxFQUFtQkEsRUFBK0IsV0FBSSxHQUFLLGFBQzNEQSxFQUFtQkEsRUFBNEIsUUFBSSxHQUFLLFVBSjVELENBS0dBLElBQXVCQSxFQUFxQixLQUMvQyxJQUFJYyxFQUFvQyxTQUFVQyxHQUU5QyxTQUFTRCxFQUFtQmxGLEVBQVdvRixFQUFXdEQsR0FDOUMsSUFBSWhDLEVBQVFxRixFQUFPNUYsS0FBS0wsS0FBTTRDLElBQVc1QyxLQUN6Q1ksRUFBTUUsVUFBWUEsRUFDbEJGLEVBQU1zRixVQUFZQSxFQUNsQnRGLEVBQU11RixhQUFlLEdBQ3JCdkYsRUFBTXdGLFVBQVl4QyxPQUFPTyxPQUFPLE1BQ2hDLElBQUlrQyxFQUFhLFNBQVVyRCxHQUN2QixHQUFJQSxFQUFNQyxjQUFnQmlELEVBQTFCLENBR0EsSUFBSUksRUFDQUMsRUFBcUJ2RCxFQUFNd0Qsb0JBQW1CLFdBQzlDQyxhQUFhSCxHQUNiQSxFQUFTSSxZQUFXLFdBQWMsT0FBTzlGLEVBQU0rRixZQUFZM0QsS0FBVyxRQUUxRXBDLEVBQU13RixVQUFVcEQsRUFBTUcsSUFBSXlELFlBQWMsQ0FDcENuRixRQUFTLFdBQ0w4RSxFQUFtQjlFLFVBQ25CZ0YsYUFBYUgsS0FHckIxRixFQUFNK0YsWUFBWTNELEtBRWxCNkQsRUFBaUIsU0FBVTdELEdBQzNCZixPQUFPQyxPQUFPNEUsZ0JBQWdCOUQsRUFBT3BDLEVBQU1zRixVQUFXLElBQ3RELElBQUlhLEVBQU0vRCxFQUFNRyxJQUFJeUQsV0FDaEJoRyxFQUFNd0YsVUFBVVcsS0FDaEJuRyxFQUFNd0YsVUFBVVcsR0FBS3RGLGlCQUNkYixFQUFNd0YsVUFBVVcsS0FHL0JuRyxFQUFNdUYsYUFBYTNGLEtBQUt5QixPQUFPQyxPQUFPOEUsaUJBQWlCWCxJQUN2RHpGLEVBQU11RixhQUFhM0YsS0FBS3lCLE9BQU9DLE9BQU8rRSxtQkFBbUJKLElBQ3pEakcsRUFBTXVGLGFBQWEzRixLQUFLeUIsT0FBT0MsT0FBT2dGLDBCQUF5QixTQUFVQyxHQUNyRU4sRUFBZU0sRUFBTW5FLE9BQ3JCcUQsRUFBV2MsRUFBTW5FLFdBRXJCcEMsRUFBTXVGLGFBQWEzRixLQUFLLENBQ3BCaUIsUUFBUyxXQUNMLElBQUssSUFBSTZCLEVBQUssRUFBRzFCLEVBQUtLLE9BQU9DLE9BQU9ZLFlBQWFRLEVBQUsxQixFQUFHckIsT0FBUStDLElBQU0sQ0FDbkUsSUFBSU4sRUFBUXBCLEVBQUcwQixHQUNmdUQsRUFBZTdELE9BSTNCLElBQUlvRSxFQUFzQixXQUV0QixJQUFLLElBQUk5RCxFQUFLLEVBQUcxQixFQUFLSyxPQUFPQyxPQUFPWSxZQUFhUSxFQUFLMUIsRUFBR3JCLE9BQVErQyxJQUFNLENBQ25FLElBQUlOLEVBQVFwQixFQUFHMEIsR0FDZnVELEVBQWU3RCxHQUNmcUQsRUFBV3JELEtBTW5CLE9BSEFwQyxFQUFNdUYsYUFBYTNGLEtBQUtJLEVBQU1FLFVBQVVJLFlBQVlrRyxJQUNwRHhHLEVBQU11RixhQUFhM0YsS0FBS0ksRUFBTUUsVUFBVVEscUJBQXFCOEYsSUFDN0RuRixPQUFPQyxPQUFPWSxZQUFZdUUsUUFBUWhCLEdBQzNCekYsRUFzR1gsT0EvSkE2QyxFQUFVdUMsRUFBb0JDLEdBMkQ5QkQsRUFBbUJ4RSxVQUFVQyxRQUFVLFdBQ25DekIsS0FBS21HLGFBQWFrQixTQUFRLFNBQVUzRCxHQUFLLE9BQU9BLEdBQUtBLEVBQUVqQyxhQUN2RHpCLEtBQUttRyxhQUFlLElBRXhCSCxFQUFtQnhFLFVBQVVtRixZQUFjLFNBQVUzRCxHQUNqRCxPQUFPLEVBQVVoRCxVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFJNEMsRUFBUTBFLEVBQVUxRixFQUFJMkYsRUFBb0JDLEVBQXNCQyxFQUF5QkMsRUFBYUMsRUFDdEcvRyxFQUFRWixLQUNaLE9BQU8sRUFBWUEsTUFBTSxTQUFVNEgsR0FDL0IsT0FBUUEsRUFBR25JLE9BQ1AsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFhTyxLQUFLZSxRQUFRaUMsRUFBTUcsTUFDaEQsS0FBSyxFQUVELE9BREFQLEVBQVNnRixFQUFHbEksT0FDUnNELEVBQU02RSxhQUVDLENBQUMsSUFFWlAsRUFBVyxHQUNYMUYsRUFBSzVCLEtBQUtjLFVBQVVnSCx3QkFBeUJQLEVBQXFCM0YsRUFBRzJGLG1CQUFvQkMsRUFBdUI1RixFQUFHNEYscUJBQXNCQyxFQUEwQjdGLEVBQUc2Rix3QkFDaktGLEdBQ0RELEVBQVM5RyxLQUFLb0MsRUFBT21GLHdCQUF3Qi9FLEVBQU1HLElBQUl5RCxhQUV0RFksR0FDREYsRUFBUzlHLEtBQUtvQyxFQUFPb0YsdUJBQXVCaEYsRUFBTUcsSUFBSXlELGFBRXJEYSxHQUNESCxFQUFTOUcsS0FBS29DLEVBQU9xRix5QkFBeUJqRixFQUFNRyxJQUFJeUQsYUFFckQsQ0FBQyxFQUFhdkksUUFBUTZKLElBQUlaLEtBQ3JDLEtBQUssRUFFRCxRQURBSSxFQUFjRSxFQUFHbEksU0FDR3NELEVBQU02RSxlQUkxQkYsRUFBVUQsRUFDTFMsUUFBTyxTQUFVekYsRUFBRzBGLEdBQUssT0FBT0EsRUFBRUMsT0FBTzNGLEtBQU8sSUFDaERLLFFBQU8sU0FBVVcsR0FBSyxPQUFvRyxLQUE1RjlDLEVBQU1FLFVBQVVnSCx3QkFBd0JRLHlCQUEyQixJQUFJQyxRQUFRN0UsRUFBRThFLFNBQy9HdEYsS0FBSSxTQUFVUSxHQUFLLE9BQU85QyxFQUFNNkgsb0JBQW9CekYsRUFBT1UsTUFDaEV6QixPQUFPQyxPQUFPNEUsZ0JBQWdCOUQsRUFBT2hELEtBQUtrRyxVQUFXeUIsSUFOMUMsQ0FBQyxXQVloQzNCLEVBQW1CeEUsVUFBVWlILG9CQUFzQixTQUFVekYsRUFBT3VCLEdBQ2hFLElBQUltRSxFQUFZbkUsRUFBS2lCLE9BQVMsRUFDMUJtRCxFQUFhcEUsRUFBS2hFLFFBQVUsRUFDNUJxQixFQUFLb0IsRUFBTXVDLGNBQWNtRCxHQUFZaEQsRUFBa0I5RCxFQUFHK0QsV0FBWUMsRUFBY2hFLEVBQUdpRSxPQUN2RitCLEVBQUs1RSxFQUFNdUMsY0FBY21ELEVBQVlDLEdBQWE3QyxFQUFnQjhCLEVBQUdqQyxXQUFZSSxFQUFZNkIsRUFBRy9CLE9BQ3BHLE1BQU8sQ0FDSCtDLFNBQVU1SSxLQUFLNkksc0NBQXNDdEUsRUFBS3VFLFVBQzFEcEQsZ0JBQWlCQSxFQUNqQkUsWUFBYUEsRUFDYkUsY0FBZUEsRUFDZkMsVUFBV0EsRUFDWGdELFFBQVN6RSxFQUE2QkMsRUFBS0ssWUFBYSxNQUN4RDRELEtBQU1qRSxFQUFLaUUsS0FBSzVCLFdBQ2hCb0MsS0FBTXpFLEVBQUswRSxtQkFBcUIsQ0FBQ2hILE9BQU9pSCxVQUFVQyxhQUFlLEdBQ2pFQyxtQkFBb0JwSixLQUFLcUosMkJBQTJCckcsRUFBT3VCLEVBQUs2RSxzQkFHeEVwRCxFQUFtQnhFLFVBQVU2SCwyQkFBNkIsU0FBVXJHLEVBQU9vRyxHQUN2RSxHQUFLQSxFQUFMLENBR0EsSUFBSXRLLEVBQVMsR0F1QmIsT0F0QkFzSyxFQUFtQi9CLFNBQVEsU0FBVWlDLEdBQ2pDLElBQUlDLEVBQWtCdkcsRUFDdEIsR0FBSXNHLEVBQUtFLEtBQU0sQ0FDWCxJQUFJQyxFQUFxQnhILE9BQU9tQyxJQUFJc0YsTUFBTUosRUFBS0UsS0FBS0csVUFDcERKLEVBQWtCdEgsT0FBT0MsT0FBTzBILFNBQVNILEdBRTdDLEdBQUtGLEVBQUwsQ0FHQSxJQUFJTSxFQUFZUCxFQUFLOUQsT0FBUyxFQUMxQnNFLEVBQWFSLEVBQUsvSSxRQUFVLEVBQzVCcUIsRUFBSzJILEVBQWdCaEUsY0FBY3NFLEdBQVluRSxFQUFrQjlELEVBQUcrRCxXQUFZQyxFQUFjaEUsRUFBR2lFLE9BQ2pHK0IsRUFBSzJCLEVBQWdCaEUsY0FBY3NFLEVBQVlDLEdBQWFoRSxFQUFnQjhCLEVBQUdqQyxXQUFZSSxFQUFZNkIsRUFBRy9CLE9BQzlHL0csRUFBTzBCLEtBQUssQ0FDUnVKLFNBQVVSLEVBQWdCcEcsSUFDMUJ1QyxnQkFBaUJBLEVBQ2pCRSxZQUFhQSxFQUNiRSxjQUFlQSxFQUNmQyxVQUFXQSxFQUNYZ0QsUUFBU3pFLEVBQTZCZ0YsRUFBSzFFLFlBQWEsWUFHekQ5RixJQUVYa0gsRUFBbUJ4RSxVQUFVcUgsc0NBQXdDLFNBQVVDLEdBQzNFLE9BQVFBLEdBQ0osS0FBSzVELEVBQW1COEUsTUFBTyxPQUFPL0gsT0FBT2dJLGVBQWVELE1BQzVELEtBQUs5RSxFQUFtQmdGLFFBQVMsT0FBT2pJLE9BQU9nSSxlQUFlRSxLQUM5RCxLQUFLakYsRUFBbUJrRixRQUFTLE9BQU9uSSxPQUFPZ0ksZUFBZUcsUUFDOUQsS0FBS2xGLEVBQW1CbUYsV0FBWSxPQUFPcEksT0FBT2dJLGVBQWVLLEtBRXJFLE9BQU9ySSxPQUFPZ0ksZUFBZUUsTUFFMUJuRSxFQWhLNEIsQ0FpS3JDYixHQUVFb0YsRUFBZ0MsU0FBVXRFLEdBRTFDLFNBQVNzRSxJQUNMLE9BQWtCLE9BQVh0RSxHQUFtQkEsRUFBT2hILE1BQU1lLEtBQU11RCxZQUFjdkQsS0FvSC9ELE9BdEhBeUQsRUFBVThHLEVBQWdCdEUsR0FJMUJyQyxPQUFPNEcsZUFBZUQsRUFBZS9JLFVBQVcsb0JBQXFCLENBQ2pFaUosSUFBSyxXQUNELE1BQU8sQ0FBQyxNQUVaQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJKLEVBQWUvSSxVQUFVb0osdUJBQXlCLFNBQVU1SCxFQUFPNkgsRUFBVUMsRUFBVUMsR0FDbkYsT0FBTyxFQUFVL0ssVUFBTSxPQUFRLEdBQVEsV0FDbkMsSUFBSWdMLEVBQVVDLEVBQVdsQixFQUFVbUIsRUFBZ0I1QixFQUNuRCxPQUFPLEVBQVl0SixNQUFNLFNBQVU0QixHQUMvQixPQUFRQSxFQUFHbkMsT0FDUCxLQUFLLEVBS0QsT0FKQXVMLEVBQVdoSSxFQUFNbUkscUJBQXFCTixHQUN0Q0ksRUFBWSxJQUFJNUcsRUFBTXdHLEVBQVNsRixXQUFZcUYsRUFBU3BGLFlBQWFpRixFQUFTbEYsV0FBWXFGLEVBQVNqRixXQUMvRmdFLEVBQVcvRyxFQUFNRyxJQUNqQitILEVBQVNsSSxFQUFNb0ksWUFBWVAsR0FDcEIsQ0FBQyxFQUFhN0ssS0FBS2UsUUFBUWdKLElBQ3RDLEtBQUssRUFFRCxNQUFPLENBQUMsRUFEQ25JLEVBQUdsQyxPQUNnQjJMLHlCQUF5QnRCLEVBQVNuRCxXQUFZc0UsSUFDOUUsS0FBSyxFQUVELFFBREE1QixFQUFPMUgsRUFBR2xDLFNBQ0dzRCxFQUFNNkUsYUFDUixDQUFDLEdBbUJMLENBQUMsRUFBYyxDQUNkeUQsWUFsQk1oQyxFQUFLaUMsUUFBUXJJLEtBQUksU0FBVXNJLEdBQ3JDLElBQUlDLEVBQVFSLEVBQ1osR0FBSU8sRUFBTUUsZ0JBQWlCLENBQ3ZCLElBQUlwRyxFQUFLdEMsRUFBTXVDLGNBQWNpRyxFQUFNRSxnQkFBZ0JsRyxPQUMvQ0MsRUFBS3pDLEVBQU11QyxjQUFjaUcsRUFBTUUsZ0JBQWdCbEcsTUFBUWdHLEVBQU1FLGdCQUFnQm5MLFFBQ2pGa0wsRUFBUSxJQUFJcEgsRUFBTWlCLEVBQUdLLFdBQVlMLEVBQUdPLE9BQVFKLEVBQUdFLFdBQVlGLEVBQUdJLFFBRWxFLE1BQU8sQ0FDSDFDLElBQUs0RyxFQUNMYyxTQUFVQSxFQUNWWSxNQUFPQSxFQUNQaE0sTUFBTytMLEVBQU1HLEtBQ2JDLFdBQVlKLEVBQU1HLEtBQ2xCRSxTQUFVTCxFQUFNSyxTQUNoQkMsS0FBTXZCLEVBQWV3QixZQUFZUCxFQUFNTSxvQkFVbkV2QixFQUFlL0ksVUFBVXdLLHNCQUF3QixTQUFVaEosRUFBT2lKLEVBQVdDLEVBQU1uQixHQUMvRSxPQUFPLEVBQVUvSyxVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFJbU0sRUFBUXBDLEVBQVVjLEVBQVVLLEVBQWdCa0IsRUFDaEQsT0FBTyxFQUFZcE0sTUFBTSxTQUFVNEIsR0FDL0IsT0FBUUEsRUFBR25DLE9BQ1AsS0FBSyxFQUtELE9BSEFzSyxHQURBb0MsRUFBU0QsR0FDUy9JLElBQ2xCMEgsRUFBV3NCLEVBQU90QixTQUNsQkssRUFBU2xJLEVBQU1vSSxZQUFZUCxHQUNwQixDQUFDLEVBQWE3SyxLQUFLZSxRQUFRZ0osSUFDdEMsS0FBSyxFQUVELE1BQU8sQ0FBQyxFQURDbkksRUFBR2xDLE9BQ2dCMk0sMEJBQTBCdEMsRUFBU25ELFdBQVlzRSxFQUFRaUIsRUFBTzFNLFFBQzlGLEtBQUssRUFFRCxRQURBMk0sRUFBVXhLLEVBQUdsQyxTQUNHc0QsRUFBTTZFLGFBQ1gsQ0FBQyxFQUFjc0UsR0FFbkIsQ0FBQyxFQUFjLENBQ2RoSixJQUFLNEcsRUFDTGMsU0FBVUEsRUFDVnBMLE1BQU8yTSxFQUFRVCxLQUNmRyxLQUFNdkIsRUFBZXdCLFlBQVlLLEVBQVFOLE1BQ3pDUSxPQUFRekgsRUFBcUJ1SCxFQUFRdEgsY0FDckN5SCxjQUFlLENBQ1g5TixNQUFPb0csRUFBcUJ1SCxFQUFRRywwQkFPcEVoQyxFQUFld0IsWUFBYyxTQUFVRCxHQUNuQyxPQUFRQSxHQUNKLEtBQUtVLEVBQUtDLGNBQ1YsS0FBS0QsRUFBS0UsUUFDTixPQUFPekssT0FBTzBLLFVBQVVDLG1CQUFtQkMsUUFDL0MsS0FBS0wsRUFBS00sU0FDVixLQUFLTixFQUFLTyxjQUNOLE9BQU85SyxPQUFPMEssVUFBVUMsbUJBQW1CSSxTQUMvQyxLQUFLUixFQUFLUyxlQUNWLEtBQUtULEVBQUtVLGtCQUNWLEtBQUtWLEVBQUtXLGtCQUNOLE9BQU9sTCxPQUFPMEssVUFBVUMsbUJBQW1CUSxNQUMvQyxLQUFLWixFQUFLYSxTQUNWLEtBQUtiLEVBQUtjLGVBQ1YsS0FBS2QsRUFBS2UsbUJBQ1YsS0FBS2YsRUFBS2dCLGNBQ1YsS0FBS2hCLEVBQUtpQixlQUNOLE9BQU94TCxPQUFPMEssVUFBVUMsbUJBQW1CYyxTQUMvQyxLQUFLbEIsRUFBS21CLEtBQ04sT0FBTzFMLE9BQU8wSyxVQUFVQyxtQkFBbUJnQixLQUMvQyxLQUFLcEIsRUFBS3FCLE9BQ04sT0FBTzVMLE9BQU8wSyxVQUFVQyxtQkFBbUJrQixPQUMvQyxLQUFLdEIsRUFBS3VCLE1BQ04sT0FBTzlMLE9BQU8wSyxVQUFVQyxtQkFBbUJvQixNQUMvQyxLQUFLeEIsRUFBS3lCLFVBQ04sT0FBT2hNLE9BQU8wSyxVQUFVQyxtQkFBbUJzQixVQUMvQyxLQUFLMUIsRUFBSzJCLFFBQ04sT0FBT2xNLE9BQU8wSyxVQUFVQyxtQkFBbUJ3QixLQUVuRCxPQUFPbk0sT0FBTzBLLFVBQVVDLG1CQUFtQnlCLFVBRXhDOUQsRUF2SHdCLENBd0hqQ3BGLEdBRUVtSixFQUFzQyxTQUFVckksR0FFaEQsU0FBU3FJLElBQ0wsSUFBSTFOLEVBQW1CLE9BQVhxRixHQUFtQkEsRUFBT2hILE1BQU1lLEtBQU11RCxZQUFjdkQsS0FFaEUsT0FEQVksRUFBTTJOLCtCQUFpQyxDQUFDLElBQUssS0FDdEMzTixFQXNEWCxPQTFEQTZDLEVBQVU2SyxFQUFzQnJJLEdBTWhDcUksRUFBcUI5TSxVQUFVZ04scUJBQXVCLFNBQVV4TCxFQUFPNkgsRUFBVUUsR0FDN0UsT0FBTyxFQUFVL0ssVUFBTSxPQUFRLEdBQVEsV0FDbkMsSUFBSStKLEVBQVVtQixFQUFnQjVCLEVBQU1tRixFQUNwQyxPQUFPLEVBQVl6TyxNQUFNLFNBQVU0QixHQUMvQixPQUFRQSxFQUFHbkMsT0FDUCxLQUFLLEVBR0QsT0FGQXNLLEVBQVcvRyxFQUFNRyxJQUNqQitILEVBQVNsSSxFQUFNb0ksWUFBWVAsR0FDcEIsQ0FBQyxFQUFhN0ssS0FBS2UsUUFBUWdKLElBQ3RDLEtBQUssRUFFRCxNQUFPLENBQUMsRUFEQ25JLEVBQUdsQyxPQUNnQmdQLHNCQUFzQjNFLEVBQVNuRCxXQUFZc0UsSUFDM0UsS0FBSyxFQUVELFFBREE1QixFQUFPMUgsRUFBR2xDLFNBQ0dzRCxFQUFNNkUsYUFDUixDQUFDLElBRVo0RyxFQUFNLENBQ0ZFLGdCQUFpQnJGLEVBQUtzRixrQkFDdEJDLGdCQUFpQnZGLEVBQUt3RixjQUN0QkMsV0FBWSxJQUVoQnpGLEVBQUswRixNQUFNM0gsU0FBUSxTQUFVNkUsR0FDekIsSUFBSStDLEVBQVksQ0FDWnhQLE1BQU8sR0FDUHlQLFdBQVksSUFFaEJELEVBQVUxQyxjQUFnQjFILEVBQXFCcUgsRUFBS0ssZUFDcEQwQyxFQUFVeFAsT0FBU29GLEVBQXFCcUgsRUFBS2lELG9CQUM3Q2pELEVBQUtnRCxXQUFXN0gsU0FBUSxTQUFVM0UsRUFBR2lDLEVBQUd5SyxHQUNwQyxJQUFJM1AsRUFBUW9GLEVBQXFCbkMsRUFBRW9DLGNBQy9CdUssRUFBWSxDQUNaNVAsTUFBT0EsRUFDUDhNLGNBQWUxSCxFQUFxQm5DLEVBQUU2SixnQkFFMUMwQyxFQUFVeFAsT0FBU0EsRUFDbkJ3UCxFQUFVQyxXQUFXMU8sS0FBSzZPLEdBQ3RCMUssRUFBSXlLLEVBQUU3TyxPQUFTLElBQ2YwTyxFQUFVeFAsT0FBU29GLEVBQXFCcUgsRUFBS29ELDJCQUdyREwsRUFBVXhQLE9BQVNvRixFQUFxQnFILEVBQUtxRCxvQkFDN0NkLEVBQUlNLFdBQVd2TyxLQUFLeU8sTUFFakIsQ0FBQyxFQUFjLENBQ2R4USxNQUFPZ1EsRUFDUGhOLFFBQVMsd0JBTTlCNk0sRUEzRDhCLENBNER2Q25KLEdBR0VxSyxFQUFrQyxTQUFVdkosR0FFNUMsU0FBU3VKLElBQ0wsT0FBa0IsT0FBWHZKLEdBQW1CQSxFQUFPaEgsTUFBTWUsS0FBTXVELFlBQWN2RCxLQXdDL0QsT0ExQ0F5RCxFQUFVK0wsRUFBa0J2SixHQUk1QnVKLEVBQWlCaE8sVUFBVWlPLGFBQWUsU0FBVXpNLEVBQU82SCxFQUFVRSxHQUNqRSxPQUFPLEVBQVUvSyxVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFJK0osRUFBVW1CLEVBQWdCNUIsRUFBTWlELEVBQWV2RCxFQUFNMEcsRUFDekQsT0FBTyxFQUFZMVAsTUFBTSxTQUFVNEIsR0FDL0IsT0FBUUEsRUFBR25DLE9BQ1AsS0FBSyxFQUdELE9BRkFzSyxFQUFXL0csRUFBTUcsSUFDakIrSCxFQUFTbEksRUFBTW9JLFlBQVlQLEdBQ3BCLENBQUMsRUFBYTdLLEtBQUtlLFFBQVFnSixJQUN0QyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRENuSSxFQUFHbEMsT0FDZ0JpUSx1QkFBdUI1RixFQUFTbkQsV0FBWXNFLElBQzVFLEtBQUssRUFFRCxRQURBNUIsRUFBTzFILEVBQUdsQyxTQUNHc0QsRUFBTTZFLGFBQ1IsQ0FBQyxJQUVaMEUsRUFBZ0IxSCxFQUFxQnlFLEVBQUtpRCxlQUMxQ3ZELEVBQU9NLEVBQUtOLEtBQU9NLEVBQUtOLEtBQUs5RixLQUFJLFNBQVUwTSxHQUN2QyxJQUFJblEsRUFBUSxLQUFPbVEsRUFBSWpFLEtBQU8sSUFDOUIsT0FBS2lFLEVBQUk1SyxLQUdGdkYsR0FBU21RLEVBQUk1SyxLQUFLNkssTUFBTSxZQUFjLE1BQVFELEVBQUk1SyxLQUFPLE1BQVE0SyxFQUFJNUssTUFGakV2RixLQUdad0YsS0FBSyxVQUFZLEdBQ3BCeUssRUFBVzdLLEVBQXFCeUUsRUFBS3hFLGNBQzlCLENBQUMsRUFBYyxDQUNkMkcsTUFBT3pMLEtBQUtvRixpQkFBaUJwQyxFQUFPc0csRUFBS3dHLFVBQ3pDSixTQUFVLENBQUMsQ0FDSGpSLE1BQU8sVUFBWWlSLEVBQVcsV0FDL0IsQ0FDQ2pSLE1BQU84TixHQUFpQnZELEVBQU8sT0FBU0EsRUFBTyxpQkFPNUV3RyxFQTNDMEIsQ0E0Q25DckssR0FHRTRLLEVBQW9DLFNBQVU5SixHQUU5QyxTQUFTOEosSUFDTCxPQUFrQixPQUFYOUosR0FBbUJBLEVBQU9oSCxNQUFNZSxLQUFNdUQsWUFBY3ZELEtBOEIvRCxPQWhDQXlELEVBQVVzTSxFQUFvQjlKLEdBSTlCOEosRUFBbUJ2TyxVQUFVd08sMEJBQTRCLFNBQVVoTixFQUFPNkgsRUFBVUUsR0FDaEYsT0FBTyxFQUFVL0ssVUFBTSxPQUFRLEdBQVEsV0FDbkMsSUFBSStKLEVBQVVtQixFQUFnQkssRUFDMUIzSyxFQUFRWixLQUNaLE9BQU8sRUFBWUEsTUFBTSxTQUFVNEIsR0FDL0IsT0FBUUEsRUFBR25DLE9BQ1AsS0FBSyxFQUdELE9BRkFzSyxFQUFXL0csRUFBTUcsSUFDakIrSCxFQUFTbEksRUFBTW9JLFlBQVlQLEdBQ3BCLENBQUMsRUFBYTdLLEtBQUtlLFFBQVFnSixJQUN0QyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRENuSSxFQUFHbEMsT0FDZ0J1USx5QkFBeUJsRyxFQUFTbkQsV0FBWXNFLElBQzlFLEtBQUssRUFFRCxRQURBSyxFQUFVM0osRUFBR2xDLFNBQ0dzRCxFQUFNNkUsYUFDWCxDQUFDLEdBRUwsQ0FBQyxFQUFjMEQsRUFBUXJJLEtBQUksU0FBVXNJLEdBQ3BDLE1BQU8sQ0FDSEMsTUFBTzdLLEVBQU13RSxpQkFBaUJwQyxFQUFPd0ksRUFBTXNFLFVBQzNDaEUsS0FBTU4sRUFBTTBFLGNBQWdCak8sT0FBTzBLLFVBQVV3RCxzQkFBc0JDLE1BQVFuTyxPQUFPMEssVUFBVXdELHNCQUFzQkUsa0JBTzNJTixFQWpDNEIsQ0FrQ3JDNUssR0FHRW1MLEVBQW1DLFNBQVVySyxHQUU3QyxTQUFTcUssSUFDTCxPQUFrQixPQUFYckssR0FBbUJBLEVBQU9oSCxNQUFNZSxLQUFNdUQsWUFBY3ZELEtBb0MvRCxPQXRDQXlELEVBQVU2TSxFQUFtQnJLLEdBSTdCcUssRUFBa0I5TyxVQUFVK08sa0JBQW9CLFNBQVV2TixFQUFPNkgsRUFBVUUsR0FDdkUsT0FBTyxFQUFVL0ssVUFBTSxPQUFRLEdBQVEsV0FDbkMsSUFBSStKLEVBQVVtQixFQUFnQkssRUFBU3pNLEVBQVF3RSxFQUFJa04sRUFBV2hGLEVBQU9ySSxFQUFLc04sRUFDMUUsT0FBTyxFQUFZelEsTUFBTSxTQUFVNEIsR0FDL0IsT0FBUUEsRUFBR25DLE9BQ1AsS0FBSyxFQUdELE9BRkFzSyxFQUFXL0csRUFBTUcsSUFDakIrSCxFQUFTbEksRUFBTW9JLFlBQVlQLEdBQ3BCLENBQUMsRUFBYTdLLEtBQUtlLFFBQVFnSixJQUN0QyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRENuSSxFQUFHbEMsT0FDZ0JnUix3QkFBd0IzRyxFQUFTbkQsV0FBWXNFLElBQzdFLEtBQUssRUFFRCxLQURBSyxFQUFVM0osRUFBR2xDLFNBQ0dzRCxFQUFNNkUsYUFDbEIsTUFBTyxDQUFDLEdBR1osSUFEQS9JLEVBQVMsR0FDSndFLEVBQUssRUFBR2tOLEVBQVlqRixFQUFTakksRUFBS2tOLEVBQVVqUSxPQUFRK0MsSUFDckRrSSxFQUFRZ0YsRUFBVWxOLEdBQ2xCSCxFQUFNaUIsRUFBSXNGLE1BQU04QixFQUFNN0IsV0FDdEI4RyxFQUFXeE8sT0FBT0MsT0FBTzBILFNBQVN6RyxLQUU5QnJFLEVBQU8wQixLQUFLLENBQ1IyQyxJQUFLQSxFQUNMc0ksTUFBT3pMLEtBQUtvRixpQkFBaUJxTCxFQUFVakYsRUFBTXNFLFlBSXpELE1BQU8sQ0FBQyxFQUFjaFIsV0FLbkN3UixFQXZDMkIsQ0F3Q3BDbkwsR0FHRXdMLEVBQWtDLFNBQVUxSyxHQUU1QyxTQUFTMEssSUFDTCxPQUFrQixPQUFYMUssR0FBbUJBLEVBQU9oSCxNQUFNZSxLQUFNdUQsWUFBY3ZELEtBb0MvRCxPQXRDQXlELEVBQVVrTixFQUFrQjFLLEdBSTVCMEssRUFBaUJuUCxVQUFVb1Asa0JBQW9CLFNBQVU1TixFQUFPNkgsRUFBVWdHLEVBQVM5RixHQUMvRSxPQUFPLEVBQVUvSyxVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFJK0osRUFBVW1CLEVBQWdCSyxFQUFTek0sRUFBUXdFLEVBQUl3TixFQUFXdEYsRUFBT3JJLEVBQUtzTixFQUMxRSxPQUFPLEVBQVl6USxNQUFNLFNBQVU0QixHQUMvQixPQUFRQSxFQUFHbkMsT0FDUCxLQUFLLEVBR0QsT0FGQXNLLEVBQVcvRyxFQUFNRyxJQUNqQitILEVBQVNsSSxFQUFNb0ksWUFBWVAsR0FDcEIsQ0FBQyxFQUFhN0ssS0FBS2UsUUFBUWdKLElBQ3RDLEtBQUssRUFFRCxNQUFPLENBQUMsRUFEQ25JLEVBQUdsQyxPQUNnQnFSLHdCQUF3QmhILEVBQVNuRCxXQUFZc0UsSUFDN0UsS0FBSyxFQUVELEtBREFLLEVBQVUzSixFQUFHbEMsU0FDR3NELEVBQU02RSxhQUNsQixNQUFPLENBQUMsR0FHWixJQURBL0ksRUFBUyxHQUNKd0UsRUFBSyxFQUFHd04sRUFBWXZGLEVBQVNqSSxFQUFLd04sRUFBVXZRLE9BQVErQyxJQUNyRGtJLEVBQVFzRixFQUFVeE4sR0FDbEJILEVBQU1pQixFQUFJc0YsTUFBTThCLEVBQU03QixXQUN0QjhHLEVBQVd4TyxPQUFPQyxPQUFPMEgsU0FBU3pHLEtBRTlCckUsRUFBTzBCLEtBQUssQ0FDUjJDLElBQUtBLEVBQ0xzSSxNQUFPekwsS0FBS29GLGlCQUFpQnFMLEVBQVVqRixFQUFNc0UsWUFJekQsTUFBTyxDQUFDLEVBQWNoUixXQUtuQzZSLEVBdkMwQixDQXdDbkN4TCxHQUdFNkwsRUFBZ0MsU0FBVS9LLEdBRTFDLFNBQVMrSyxJQUNMLE9BQWtCLE9BQVgvSyxHQUFtQkEsRUFBT2hILE1BQU1lLEtBQU11RCxZQUFjdkQsS0E0Qy9ELE9BOUNBeUQsRUFBVXVOLEVBQWdCL0ssR0FJMUIrSyxFQUFleFAsVUFBVXlQLHVCQUF5QixTQUFVak8sRUFBTytILEdBQy9ELE9BQU8sRUFBVS9LLFVBQU0sT0FBUSxHQUFRLFdBQ25DLElBQUkrSixFQUFrQmlGLEVBQU9rQyxFQUFTcFMsRUFDbEM4QixFQUFRWixLQUNaLE9BQU8sRUFBWUEsTUFBTSxTQUFVNEIsR0FDL0IsT0FBUUEsRUFBR25DLE9BQ1AsS0FBSyxFQUVELE9BREFzSyxFQUFXL0csRUFBTUcsSUFDVixDQUFDLEVBQWFuRCxLQUFLZSxRQUFRZ0osSUFDdEMsS0FBSyxFQUVELE1BQU8sQ0FBQyxFQURDbkksRUFBR2xDLE9BQ2dCeVIsc0JBQXNCcEgsRUFBU25ELGFBQy9ELEtBQUssRUFFRCxRQURBb0ksRUFBUXBOLEVBQUdsQyxTQUNHc0QsRUFBTTZFLGFBQ1QsQ0FBQyxJQUVacUosRUFBVSxTQUFVRSxFQUFRbEYsRUFBTW1GLEdBQzlCLElBQUl2UyxFQUFTLENBQ1Q2TSxLQUFNTyxFQUFLbEgsS0FDWHNILE9BQVEsR0FDUlIsS0FBT3dGLEVBQWlCcEYsRUFBS0osT0FBUzdKLE9BQU8wSyxVQUFVNEUsV0FBV3ZFLFNBQ2xFdkIsTUFBTzdLLEVBQU13RSxpQkFBaUJwQyxFQUFPa0osRUFBS3NGLE1BQU0sSUFDaERDLGVBQWdCN1EsRUFBTXdFLGlCQUFpQnBDLEVBQU9rSixFQUFLc0YsTUFBTSxJQUN6RHhJLEtBQU0sR0FDTjBJLGNBQWVMLEdBRW5CLEdBQUluRixFQUFLeUYsWUFBY3pGLEVBQUt5RixXQUFXcFIsT0FBUyxFQUM1QyxJQUFLLElBQUkrQyxFQUFLLEVBQUcxQixFQUFLc0ssRUFBS3lGLFdBQVlyTyxFQUFLMUIsRUFBR3JCLE9BQVErQyxJQUFNLENBQ3pELElBQUlzTyxFQUFRaFEsRUFBRzBCLEdBQ2Y0TixFQUFRRSxFQUFRUSxFQUFPOVMsRUFBTzZNLE1BR3RDeUYsRUFBTzVRLEtBQUsxQixJQUVoQkEsRUFBUyxHQUNUa1EsRUFBTTNILFNBQVEsU0FBVTZFLEdBQVEsT0FBT2dGLEVBQVFwUyxFQUFRb04sTUFDaEQsQ0FBQyxFQUFjcE4sWUFLbkNrUyxFQS9Dd0IsQ0FnRGpDN0wsR0FFRXFILEVBQXNCLFdBQ3RCLFNBQVNBLEtBOEJULE9BNUJBQSxFQUFLcUYsUUFBVSxHQUNmckYsRUFBS0UsUUFBVSxVQUNmRixFQUFLc0YsT0FBUyxTQUNkdEYsRUFBS3FCLE9BQVMsU0FDZHJCLEVBQUt1QixNQUFRLFFBQ2J2QixFQUFLeUIsVUFBWSxZQUNqQnpCLEVBQUt1RixLQUFPLE9BQ1p2RixFQUFLbUIsS0FBTyxPQUNabkIsRUFBS00sU0FBVyxNQUNoQk4sRUFBS08sY0FBZ0IsWUFDckJQLEVBQUthLFNBQVcsV0FDaEJiLEVBQUt3RixjQUFnQixpQkFDckJ4RixFQUFLYyxlQUFpQixTQUN0QmQsRUFBS1Usa0JBQW9CLFNBQ3pCVixFQUFLVyxrQkFBb0IsU0FDekJYLEVBQUtTLGVBQWlCLFdBQ3RCVCxFQUFLeUYsMEJBQTRCLGNBQ2pDekYsRUFBS2dCLGNBQWdCLE9BQ3JCaEIsRUFBS2lCLGVBQWlCLFFBQ3RCakIsRUFBS2UsbUJBQXFCLFlBQzFCZixFQUFLNkMsVUFBWSxZQUNqQjdDLEVBQUswRixjQUFnQixpQkFDckIxRixFQUFLQyxjQUFnQixpQkFDckJELEVBQUsvTSxNQUFRLFFBQ2IrTSxFQUFLMkYsTUFBUSxRQUNiM0YsRUFBSzRGLE1BQVEsUUFDYjVGLEVBQUs2RixJQUFNLE1BQ1g3RixFQUFLMkIsUUFBVSxVQUNSM0IsRUEvQmMsR0FrQ3JCOEUsRUFBbUIxTixPQUFPTyxPQUFPLE1BQ3JDbU4sRUFBaUI5RSxFQUFLcUIsUUFBVTVMLE9BQU8wSyxVQUFVNEUsV0FBV3pELE9BQzVEd0QsRUFBaUI5RSxFQUFLdUIsT0FBUzlMLE9BQU8wSyxVQUFVNEUsV0FBV3ZELE1BQzNEc0QsRUFBaUI5RSxFQUFLbUIsTUFBUTFMLE9BQU8wSyxVQUFVNEUsV0FBVzNELEtBQzFEMEQsRUFBaUI5RSxFQUFLeUIsV0FBYWhNLE9BQU8wSyxVQUFVNEUsV0FBV3JELFVBQy9Eb0QsRUFBaUI5RSxFQUFLYyxnQkFBa0JyTCxPQUFPMEssVUFBVTRFLFdBQVdlLE9BQ3BFaEIsRUFBaUI5RSxFQUFLUyxnQkFBa0JoTCxPQUFPMEssVUFBVTRFLFdBQVdsRCxTQUNwRWlELEVBQWlCOUUsRUFBS1UsbUJBQXFCakwsT0FBTzBLLFVBQVU0RSxXQUFXbEQsU0FDdkVpRCxFQUFpQjlFLEVBQUtXLG1CQUFxQmxMLE9BQU8wSyxVQUFVNEUsV0FBV2xELFNBQ3ZFaUQsRUFBaUI5RSxFQUFLTSxVQUFZN0ssT0FBTzBLLFVBQVU0RSxXQUFXdkUsU0FDOURzRSxFQUFpQjlFLEVBQUs0RixPQUFTblEsT0FBTzBLLFVBQVU0RSxXQUFXdkUsU0FDM0RzRSxFQUFpQjlFLEVBQUtPLGVBQWlCOUssT0FBTzBLLFVBQVU0RSxXQUFXdkUsU0FDbkVzRSxFQUFpQjlFLEVBQUtNLFVBQVk3SyxPQUFPMEssVUFBVTRFLFdBQVd2RSxTQUM5RHNFLEVBQWlCOUUsRUFBS2EsVUFBWXBMLE9BQU8wSyxVQUFVNEUsV0FBVzdELFNBQzlENEQsRUFBaUI5RSxFQUFLd0YsZUFBaUIvUCxPQUFPMEssVUFBVTRFLFdBQVc3RCxTQUVuRSxJQzl0Qkk2RSxFQUNBQyxFRDZ0QkFDLEVBQThCLFNBQVV4TSxHQUV4QyxTQUFTd00sSUFDTCxPQUFrQixPQUFYeE0sR0FBbUJBLEVBQU9oSCxNQUFNZSxLQUFNdUQsWUFBY3ZELEtBMkIvRCxPQTdCQXlELEVBQVVnUCxFQUFjeE0sR0FJeEJ3TSxFQUFhQyxnQkFBa0IsU0FBVUMsR0FDckMsTUFBTyxDQUNIQyxvQkFBcUJELEVBQVFFLGFBQzdCQyxRQUFTSCxFQUFRSSxRQUNqQkMsV0FBWUwsRUFBUUksUUFDcEJoVixZQUFhQSxFQUFZa1YsTUFDekJDLGlCQUFrQixLQUNsQkMsZ0NBQWdDLEVBQ2hDQywwQ0FBMEMsRUFDMUNDLDBDQUEwQyxFQUMxQ0MsaURBQWlELEVBQ2pEQyxzREFBc0QsRUFDdERDLDREQUE0RCxFQUM1REMseURBQXlELEVBQ3pEQyw2REFBNkQsRUFDN0RDLHlDQUF5QyxFQUN6Q0MscUNBQXFDLElBRzdDbkIsRUFBYWpSLFVBQVVxUyxvQkFBc0IsU0FBVTdRLEVBQU84USxHQUMxRCxNQUFPLENBQ0g5TyxLQUFNOE8sRUFBT0MsUUFDYnRJLE1BQU96TCxLQUFLb0YsaUJBQWlCcEMsRUFBTzhRLEVBQU96TyxRQUc1Q29OLEVBOUJzQixDQStCL0J0TixHQUVFNk8sRUFBK0IsU0FBVS9OLEdBRXpDLFNBQVMrTixJQUNMLE9BQWtCLE9BQVgvTixHQUFtQkEsRUFBT2hILE1BQU1lLEtBQU11RCxZQUFjdkQsS0EwQi9ELE9BNUJBeUQsRUFBVXVRLEVBQWUvTixHQUl6QitOLEVBQWN4UyxVQUFVeVMsb0NBQXNDLFNBQVVqUixFQUFPeUksRUFBT2tILEVBQVM1SCxHQUMzRixPQUFPLEVBQVUvSyxVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFJK0osRUFBVW1LLEVBQWFDLEVBQW1CQyxFQUMxQ3hULEVBQVFaLEtBQ1osT0FBTyxFQUFZQSxNQUFNLFNBQVU0QixHQUMvQixPQUFRQSxFQUFHbkMsT0FDUCxLQUFLLEVBSUQsT0FIQXNLLEVBQVcvRyxFQUFNRyxJQUNqQitRLEVBQWNsUixFQUFNb0ksWUFBWSxDQUFFekYsV0FBWThGLEVBQU0vRixnQkFBaUJHLE9BQVE0RixFQUFNN0YsY0FDbkZ1TyxFQUFZblIsRUFBTW9JLFlBQVksQ0FBRXpGLFdBQVk4RixFQUFNM0YsY0FBZUQsT0FBUTRGLEVBQU0xRixZQUN4RSxDQUFDLEVBQWEvRixLQUFLZSxRQUFRZ0osSUFDdEMsS0FBSyxFQUVELE1BQU8sQ0FBQyxFQURDbkksRUFBR2xDLE9BQ2dCMlUsMkJBQTJCdEssRUFBU25ELFdBQVlzTixFQUFhQyxFQUFXMUIsRUFBYUMsZ0JBQWdCQyxLQUNySSxLQUFLLEVBRUQsUUFEQXlCLEVBQVF4UyxFQUFHbEMsU0FDR3NELEVBQU02RSxhQUNULENBQUMsR0FFTCxDQUFDLEVBQWN1TSxFQUFNbFIsS0FBSSxTQUFVb1IsR0FBUSxPQUFPMVQsRUFBTWlULG9CQUFvQjdRLEVBQU9zUixlQUt2R04sRUE3QnVCLENBOEJoQ3ZCLEdBRUU4QixFQUFxQyxTQUFVdE8sR0FFL0MsU0FBU3NPLElBQ0wsT0FBa0IsT0FBWHRPLEdBQW1CQSxFQUFPaEgsTUFBTWUsS0FBTXVELFlBQWN2RCxLQWdDL0QsT0FsQ0F5RCxFQUFVOFEsRUFBcUJ0TyxHQUkvQnJDLE9BQU80RyxlQUFlK0osRUFBb0IvUyxVQUFXLDhCQUErQixDQUNoRmlKLElBQUssV0FDRCxNQUFPLENBQUMsSUFBSyxJQUFLLE9BRXRCQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEI0SixFQUFvQi9TLFVBQVVnVCw2QkFBK0IsU0FBVXhSLEVBQU82SCxFQUFVNEosRUFBSTlCLEVBQVM1SCxHQUNqRyxPQUFPLEVBQVUvSyxVQUFNLE9BQVEsR0FBUSxXQUNuQyxJQUFJK0osRUFBVW1CLEVBQWdCa0osRUFDMUJ4VCxFQUFRWixLQUNaLE9BQU8sRUFBWUEsTUFBTSxTQUFVNEIsR0FDL0IsT0FBUUEsRUFBR25DLE9BQ1AsS0FBSyxFQUdELE9BRkFzSyxFQUFXL0csRUFBTUcsSUFDakIrSCxFQUFTbEksRUFBTW9JLFlBQVlQLEdBQ3BCLENBQUMsRUFBYTdLLEtBQUtlLFFBQVFnSixJQUN0QyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRENuSSxFQUFHbEMsT0FDZ0JnVixpQ0FBaUMzSyxFQUFTbkQsV0FBWXNFLEVBQVF1SixFQUFJaEMsRUFBYUMsZ0JBQWdCQyxLQUMvSCxLQUFLLEVBRUQsUUFEQXlCLEVBQVF4UyxFQUFHbEMsU0FDR3NELEVBQU02RSxhQUNULENBQUMsR0FFTCxDQUFDLEVBQWN1TSxFQUFNbFIsS0FBSSxTQUFVb1IsR0FBUSxPQUFPMVQsRUFBTWlULG9CQUFvQjdRLEVBQU9zUixlQUt2R0MsRUFuQzZCLENBb0N0QzlCLEdBR0VrQyxFQUFtQyxTQUFVMU8sR0FFN0MsU0FBUzBPLElBQ0wsT0FBa0IsT0FBWDFPLEdBQW1CQSxFQUFPaEgsTUFBTWUsS0FBTXVELFlBQWN2RCxLQTREL0QsT0E5REF5RCxFQUFVa1IsRUFBbUIxTyxHQUk3QjBPLEVBQWtCblQsVUFBVW9ULG1CQUFxQixTQUFVNVIsRUFBT3lJLEVBQU9vRixFQUFTOUYsR0FDOUUsT0FBTyxFQUFVL0ssVUFBTSxPQUFRLEdBQVEsV0FDbkMsSUFBSStKLEVBQVV2RSxFQUFPcVAsRUFBS0MsRUFBZUMsRUFBb0JDLEVBQ3pEcFUsRUFBUVosS0FDWixPQUFPLEVBQVlBLE1BQU0sU0FBVTRCLEdBQy9CLE9BQVFBLEVBQUduQyxPQUNQLEtBQUssRUFNRCxPQUxBc0ssRUFBVy9HLEVBQU1HLElBQ2pCcUMsRUFBUXhDLEVBQU1vSSxZQUFZLENBQUV6RixXQUFZOEYsRUFBTS9GLGdCQUFpQkcsT0FBUTRGLEVBQU03RixjQUM3RWlQLEVBQU03UixFQUFNb0ksWUFBWSxDQUFFekYsV0FBWThGLEVBQU0zRixjQUFlRCxPQUFRNEYsRUFBTTFGLFlBQ3pFK08sRUFBZ0JyQyxFQUFhQyxnQkFBZ0IxUCxFQUFNaVMsY0FDbkRGLEVBQWFsRSxFQUFRbEosUUFBUTVFLFFBQU8sU0FBVW1TLEdBQUssT0FBT0EsRUFBRTFNLFFBQVN0RixLQUFJLFNBQVVnUyxHQUFLLE9BQU9BLEVBQUUxTSxRQUFTdEYsSUFBSWlTLFFBQ3ZHLENBQUMsRUFBYW5WLEtBQUtlLFFBQVFnSixJQUN0QyxLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRENuSSxFQUFHbEMsT0FDZ0IwVix1QkFBdUJyTCxFQUFTbkQsV0FBWXBCLEVBQU9xUCxFQUFLRSxFQUFZRCxJQUNwRyxLQUFLLEVBRUQsUUFEQUUsRUFBWXBULEVBQUdsQyxTQUNHc0QsRUFBTTZFLGFBQ2IsQ0FBQyxHQVFMLENBQUMsRUFBYyxDQUNkd04sUUFQRUwsRUFBVWpTLFFBQU8sU0FBVXVTLEdBRWpDLE9BQXFGLElBQTlFQSxFQUFJQyxRQUFReFMsUUFBTyxTQUFVK1EsR0FBVSxPQUFPQSxFQUFPMEIsYUFBY2pWLFVBQzNFMkMsS0FBSSxTQUFVb1MsR0FDYixPQUFPMVUsRUFBTTZVLG1DQUFtQ3pTLEVBQU82TixFQUFTeUUsTUFJNUQ3VCxRQUFTLHVCQU1yQ2tULEVBQWtCblQsVUFBVWlVLG1DQUFxQyxTQUFVelMsRUFBTzZOLEVBQVM2RSxHQUV2RixJQURBLElBQUl0QixFQUFRLEdBQ0g5USxFQUFLLEVBQUcxQixFQUFLOFQsRUFBUUgsUUFBU2pTLEVBQUsxQixFQUFHckIsT0FBUStDLElBRW5ELElBREEsSUFDU3NFLEVBQUssRUFBRytOLEVBREovVCxFQUFHMEIsR0FDYXNTLFlBQWFoTyxFQUFLK04sRUFBR3BWLE9BQVFxSCxJQUFNLENBQzVELElBQUlpTyxFQUFhRixFQUFHL04sR0FDcEJ3TSxFQUFNNVQsS0FBSyxDQUNQdUosU0FBVS9HLEVBQU1HLElBQ2hCbVIsS0FBTSxDQUNGN0ksTUFBT3pMLEtBQUtvRixpQkFBaUJwQyxFQUFPNlMsRUFBV3hRLE1BQy9DTCxLQUFNNlEsRUFBVzlCLFdBV2pDLE1BTmEsQ0FDVCtCLE1BQU9KLEVBQVFLLFlBQ2Z6QixLQUFNLENBQUVGLE1BQU9BLEdBQ2YxTSxZQUFhbUosRUFBUWxKLFFBQ3JCbUUsS0FBTSxhQUlQNkksRUEvRDJCLENBZ0VwQ2xDLEdBR0V1RCxFQUErQixTQUFVL1AsR0FFekMsU0FBUytQLElBQ0wsT0FBa0IsT0FBWC9QLEdBQW1CQSxFQUFPaEgsTUFBTWUsS0FBTXVELFlBQWN2RCxLQWdEL0QsT0FsREF5RCxFQUFVdVMsRUFBZS9QLEdBSXpCK1AsRUFBY3hVLFVBQVV5VSxtQkFBcUIsU0FBVWpULEVBQU82SCxFQUFVcUwsRUFBU25MLEdBQzdFLE9BQU8sRUFBVS9LLFVBQU0sT0FBUSxHQUFRLFdBQ25DLElBQUkrSixFQUFVSixFQUFVdUIsRUFBUXRJLEVBQVF1VCxFQUFZQyxFQUFpQmhDLEVBQU85USxFQUFJK1MsRUFBbUJDLEVBQ25HLE9BQU8sRUFBWXRXLE1BQU0sU0FBVTRCLEdBQy9CLE9BQVFBLEVBQUduQyxPQUNQLEtBQUssRUFJRCxPQUhBc0ssRUFBVy9HLEVBQU1HLElBQ2pCd0csRUFBV0ksRUFBU25ELFdBQ3BCc0UsRUFBU2xJLEVBQU1vSSxZQUFZUCxHQUNwQixDQUFDLEVBQWE3SyxLQUFLZSxRQUFRZ0osSUFDdEMsS0FBSyxFQUVELE1BQU8sQ0FBQyxHQURSbkgsRUFBU2hCLEVBQUdsQyxRQUNnQjZXLGNBQWM1TSxFQUFVdUIsRUFBUSxDQUFFc0wseUJBQXlCLEtBQzNGLEtBQUssRUFFRCxJQUE2QixLQUQ3QkwsRUFBYXZVLEVBQUdsQyxRQUNEK1csVUFDWCxNQUFPLENBQUMsRUFBYyxDQUNkckMsTUFBTyxHQUNQc0MsYUFBY1AsRUFBV1Esd0JBR3JDLFFBQWdDalMsSUFBNUJ5UixFQUFXUyxhQUNYLE1BQU0sSUFBSTVNLE1BQU0sb0NBRXBCLE1BQU8sQ0FBQyxFQUFhcEgsRUFBT2lVLG9CQUFvQmxOLEVBQVV1QixHQUFvQixHQUFvQixHQUEyQixJQUNqSSxLQUFLLEVBRUQsS0FEQWtMLEVBQWtCeFUsRUFBR2xDLFNBQ0dzRCxFQUFNNkUsYUFDMUIsTUFBTyxDQUFDLEdBR1osSUFEQXVNLEVBQVEsR0FDSDlRLEVBQUssRUFBRytTLEVBQW9CRCxFQUFpQjlTLEVBQUsrUyxFQUFrQjlWLE9BQVErQyxJQUM3RWdULEVBQWlCRCxFQUFrQi9TLEdBQ25DOFEsRUFBTTVULEtBQUssQ0FDUHVKLFNBQVU5SCxPQUFPbUMsSUFBSXNGLE1BQU00TSxFQUFlM00sVUFDMUMySyxLQUFNLENBQ0Y3SSxNQUFPekwsS0FBS29GLGlCQUFpQnBDLEVBQU9zVCxFQUFleEcsVUFDbkQ5SyxLQUFNa1IsS0FJbEIsTUFBTyxDQUFDLEVBQWMsQ0FBRTlCLE1BQU9BLFlBSzVDNEIsRUFuRHVCLENBb0RoQzdRLEdDMzdCSyxTQUFTMlIsRUFBZ0JuVyxHQUM1QjZSLEVBQW1CdUUsRUFBVXBXLEVBQVUsY0FFcEMsU0FBU3FXLEVBQWdCclcsR0FDNUI0UixFQUFtQndFLEVBQVVwVyxFQUFVLGNBRXBDLFNBQVNzVyxJQUNaLE9BQU8sSUFBSTVZLFNBQVEsU0FBVUMsRUFBU0MsR0FDbEMsSUFBS2dVLEVBQ0QsT0FBT2hVLEVBQU8sOEJBRWxCRCxFQUFRaVUsTUFHVCxTQUFTMkUsSUFDWixPQUFPLElBQUk3WSxTQUFRLFNBQVVDLEVBQVNDLEdBQ2xDLElBQUtpVSxFQUNELE9BQU9qVSxFQUFPLDhCQUVsQkQsRUFBUWtVLE1BR2hCLFNBQVN1RSxFQUFVcFcsRUFBVUQsR0FDekIsSUFBSThDLEVBQVMsSUFBSS9DLEVBQWNDLEVBQVFDLEdBQ25DaUMsRUFBUyxXQUVULElBREEsSUFBSXVVLEVBQU8sR0FDRjdULEVBQUssRUFBR0EsRUFBS0MsVUFBVWhELE9BQVErQyxJQUNwQzZULEVBQUs3VCxHQUFNQyxVQUFVRCxHQUV6QixPQUFPRSxFQUFPSix5QkFBeUJuRSxNQUFNdUUsRUFBUTJULElBY3pELE9BWkFsVixPQUFPMEssVUFBVXlLLCtCQUErQjFXLEVBQVEsSUFBSSxFQUFnQ2tDLElBQzVGWCxPQUFPMEssVUFBVTBLLDhCQUE4QjNXLEVBQVEsSUFBSSxFQUFzQ2tDLElBQ2pHWCxPQUFPMEssVUFBVTJLLHNCQUFzQjVXLEVBQVEsSUFBSSxFQUFrQ2tDLElBQ3JGWCxPQUFPMEssVUFBVTRLLGtDQUFrQzdXLEVBQVEsSUFBSSxFQUFvQ2tDLElBQ25HWCxPQUFPMEssVUFBVTZLLDJCQUEyQjlXLEVBQVEsSUFBSSxFQUFtQ2tDLElBQzNGWCxPQUFPMEssVUFBVThLLDBCQUEwQi9XLEVBQVEsSUFBSSxFQUFrQ2tDLElBQ3pGWCxPQUFPMEssVUFBVStLLCtCQUErQmhYLEVBQVEsSUFBSSxFQUFnQ2tDLElBQzVGWCxPQUFPMEssVUFBVWdMLDRDQUE0Q2pYLEVBQVEsSUFBSSxFQUErQmtDLElBQ3hHWCxPQUFPMEssVUFBVWlMLHFDQUFxQ2xYLEVBQVEsSUFBSSxFQUFxQ2tDLElBQ3ZHWCxPQUFPMEssVUFBVWtMLDJCQUEyQm5YLEVBQVEsSUFBSSxFQUFtQ2tDLElBQzNGWCxPQUFPMEssVUFBVW1MLHVCQUF1QnBYLEVBQVEsSUFBSSxFQUErQmtDLElBQ25GLElBQUksRUFBb0NqQyxFQUFVRCxFQUFRa0MsR0FDbkRBIiwiZmlsZSI6ImpzLzY0LjJhOGI0ZDI5MzkxNDljOGFmZWQyLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXHJcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4ndXNlIHN0cmljdCc7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG52YXIgV29ya2VyTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFdvcmtlck1hbmFnZXIobW9kZUlkLCBkZWZhdWx0cykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fbW9kZUlkID0gbW9kZUlkO1xyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRzID0gZGVmYXVsdHM7XHJcbiAgICAgICAgdGhpcy5fd29ya2VyID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jbGllbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NvbmZpZ0NoYW5nZUxpc3RlbmVyID0gdGhpcy5fZGVmYXVsdHMub25EaWRDaGFuZ2UoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3N0b3BXb3JrZXIoKTsgfSk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW4gPSAwO1xyXG4gICAgICAgIHRoaXMuX2V4dHJhTGlic0NoYW5nZUxpc3RlbmVyID0gdGhpcy5fZGVmYXVsdHMub25EaWRFeHRyYUxpYnNDaGFuZ2UoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3VwZGF0ZUV4dHJhTGlicygpOyB9KTtcclxuICAgIH1cclxuICAgIFdvcmtlck1hbmFnZXIucHJvdG90eXBlLl9zdG9wV29ya2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fd29ya2VyLmRpc3Bvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fd29ya2VyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gbnVsbDtcclxuICAgIH07XHJcbiAgICBXb3JrZXJNYW5hZ2VyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbmZpZ0NoYW5nZUxpc3RlbmVyLmRpc3Bvc2UoKTtcclxuICAgICAgICB0aGlzLl9leHRyYUxpYnNDaGFuZ2VMaXN0ZW5lci5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fc3RvcFdvcmtlcigpO1xyXG4gICAgfTtcclxuICAgIFdvcmtlck1hbmFnZXIucHJvdG90eXBlLl91cGRhdGVFeHRyYUxpYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbXlUb2tlbiwgcHJveHk7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fd29ya2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbXlUb2tlbiA9ICsrdGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3dvcmtlci5nZXRQcm94eSgpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW4gIT09IG15VG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIG11bHRpcGxlIGNhbGxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkudXBkYXRlRXh0cmFMaWJzKHRoaXMuX2RlZmF1bHRzLmdldEV4dHJhTGlicygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBXb3JrZXJNYW5hZ2VyLnByb3RvdHlwZS5fZ2V0Q2xpZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jbGllbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fd29ya2VyID0gbW9uYWNvLmVkaXRvci5jcmVhdGVXZWJXb3JrZXIoe1xyXG4gICAgICAgICAgICAgICAgLy8gbW9kdWxlIHRoYXQgZXhwb3J0cyB0aGUgY3JlYXRlKCkgbWV0aG9kIGFuZCByZXR1cm5zIGEgYFR5cGVTY3JpcHRXb3JrZXJgIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICBtb2R1bGVJZDogJ3ZzL2xhbmd1YWdlL3R5cGVzY3JpcHQvdHNXb3JrZXInLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuX21vZGVJZCxcclxuICAgICAgICAgICAgICAgIGtlZXBJZGxlTW9kZWxzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLy8gcGFzc2VkIGluIHRvIHRoZSBjcmVhdGUoKSBtZXRob2RcclxuICAgICAgICAgICAgICAgIGNyZWF0ZURhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb21waWxlck9wdGlvbnM6IHRoaXMuX2RlZmF1bHRzLmdldENvbXBpbGVyT3B0aW9ucygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhTGliczogdGhpcy5fZGVmYXVsdHMuZ2V0RXh0cmFMaWJzKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5fd29ya2VyLmdldFByb3h5KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZWZhdWx0cy5nZXRFYWdlck1vZGVsU3luYygpKSB7XHJcbiAgICAgICAgICAgICAgICBwID0gcC50aGVuKGZ1bmN0aW9uICh3b3JrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3dvcmtlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3dvcmtlci53aXRoU3luY2VkUmVzb3VyY2VzKG1vbmFjby5lZGl0b3IuZ2V0TW9kZWxzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG1vZGVsKSB7IHJldHVybiBtb2RlbC5nZXRNb2RlSWQoKSA9PT0gX3RoaXMuX21vZGVJZDsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG1vZGVsKSB7IHJldHVybiBtb2RlbC51cmk7IH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlcjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2NsaWVudCA9IHA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQ7XHJcbiAgICB9O1xyXG4gICAgV29ya2VyTWFuYWdlci5wcm90b3R5cGUuZ2V0TGFuZ3VhZ2VTZXJ2aWNlV29ya2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHJlc291cmNlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2NsaWVudDtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q2xpZW50KCkudGhlbihmdW5jdGlvbiAoY2xpZW50KSB7XHJcbiAgICAgICAgICAgIF9jbGllbnQgPSBjbGllbnQ7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoXykge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuX3dvcmtlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl93b3JrZXIud2l0aFN5bmNlZFJlc291cmNlcyhyZXNvdXJjZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoXykgeyByZXR1cm4gX2NsaWVudDsgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFdvcmtlck1hbmFnZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFdvcmtlck1hbmFnZXIgfTtcclxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbid1c2Ugc3RyaWN0JztcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59O1xyXG52YXIgVXJpID0gbW9uYWNvLlVyaTtcclxudmFyIFJhbmdlID0gbW9uYWNvLlJhbmdlO1xyXG4vLyNyZWdpb24gdXRpbHMgY29waWVkIGZyb20gdHlwZXNjcmlwdCB0byBwcmV2ZW50IGxvYWRpbmcgdGhlIGVudGlyZSB0eXBlc2NyaXB0U2VydmljZXMgLS0tXHJcbnZhciBJbmRlbnRTdHlsZTtcclxuKGZ1bmN0aW9uIChJbmRlbnRTdHlsZSkge1xyXG4gICAgSW5kZW50U3R5bGVbSW5kZW50U3R5bGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcclxuICAgIEluZGVudFN0eWxlW0luZGVudFN0eWxlW1wiQmxvY2tcIl0gPSAxXSA9IFwiQmxvY2tcIjtcclxuICAgIEluZGVudFN0eWxlW0luZGVudFN0eWxlW1wiU21hcnRcIl0gPSAyXSA9IFwiU21hcnRcIjtcclxufSkoSW5kZW50U3R5bGUgfHwgKEluZGVudFN0eWxlID0ge30pKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQoZGlhZywgbmV3TGluZSwgaW5kZW50KSB7XHJcbiAgICBpZiAoaW5kZW50ID09PSB2b2lkIDApIHsgaW5kZW50ID0gMDsgfVxyXG4gICAgaWYgKHR5cGVvZiBkaWFnID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgcmV0dXJuIGRpYWc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkaWFnID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuICAgIHZhciByZXN1bHQgPSBcIlwiO1xyXG4gICAgaWYgKGluZGVudCkge1xyXG4gICAgICAgIHJlc3VsdCArPSBuZXdMaW5lO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZW50OyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0ICs9IFwiICBcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXN1bHQgKz0gZGlhZy5tZXNzYWdlVGV4dDtcclxuICAgIGluZGVudCsrO1xyXG4gICAgaWYgKGRpYWcubmV4dCkge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBkaWFnLm5leHQ7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBraWQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBmbGF0dGVuRGlhZ25vc3RpY01lc3NhZ2VUZXh0KGtpZCwgbmV3TGluZSwgaW5kZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGRpc3BsYXlQYXJ0cykge1xyXG4gICAgaWYgKGRpc3BsYXlQYXJ0cykge1xyXG4gICAgICAgIHJldHVybiBkaXNwbGF5UGFydHMubWFwKGZ1bmN0aW9uIChkaXNwbGF5UGFydCkgeyByZXR1cm4gZGlzcGxheVBhcnQudGV4dDsgfSkuam9pbihcIlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBcIlwiO1xyXG59XHJcbi8vI2VuZHJlZ2lvblxyXG52YXIgQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFkYXB0ZXIoX3dvcmtlcikge1xyXG4gICAgICAgIHRoaXMuX3dvcmtlciA9IF93b3JrZXI7XHJcbiAgICB9XHJcbiAgICAvLyBwcm90ZWN0ZWQgX3Bvc2l0aW9uVG9PZmZzZXQobW9kZWw6IG1vbmFjby5lZGl0b3IuSVRleHRNb2RlbCwgcG9zaXRpb246IG1vbmFjby5JUG9zaXRpb24pOiBudW1iZXIge1xyXG4gICAgLy8gXHRyZXR1cm4gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHJvdGVjdGVkIF9vZmZzZXRUb1Bvc2l0aW9uKG1vZGVsOiBtb25hY28uZWRpdG9yLklUZXh0TW9kZWwsIG9mZnNldDogbnVtYmVyKTogbW9uYWNvLklQb3NpdGlvbiB7XHJcbiAgICAvLyBcdHJldHVybiBtb2RlbC5nZXRQb3NpdGlvbkF0KG9mZnNldCk7XHJcbiAgICAvLyB9XHJcbiAgICBBZGFwdGVyLnByb3RvdHlwZS5fdGV4dFNwYW5Ub1JhbmdlID0gZnVuY3Rpb24gKG1vZGVsLCBzcGFuKSB7XHJcbiAgICAgICAgdmFyIHAxID0gbW9kZWwuZ2V0UG9zaXRpb25BdChzcGFuLnN0YXJ0KTtcclxuICAgICAgICB2YXIgcDIgPSBtb2RlbC5nZXRQb3NpdGlvbkF0KHNwYW4uc3RhcnQgKyBzcGFuLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIHN0YXJ0TGluZU51bWJlciA9IHAxLmxpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uID0gcDEuY29sdW1uO1xyXG4gICAgICAgIHZhciBlbmRMaW5lTnVtYmVyID0gcDIubGluZU51bWJlciwgZW5kQ29sdW1uID0gcDIuY29sdW1uO1xyXG4gICAgICAgIHJldHVybiB7IHN0YXJ0TGluZU51bWJlcjogc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbjogc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXI6IGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbjogZW5kQ29sdW1uIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFkYXB0ZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEFkYXB0ZXIgfTtcclxuLy8gLS0tIGRpYWdub3N0aWNzIC0tLSAtLS1cclxudmFyIERpYWdub3N0aWNDYXRlZ29yeTtcclxuKGZ1bmN0aW9uIChEaWFnbm9zdGljQ2F0ZWdvcnkpIHtcclxuICAgIERpYWdub3N0aWNDYXRlZ29yeVtEaWFnbm9zdGljQ2F0ZWdvcnlbXCJXYXJuaW5nXCJdID0gMF0gPSBcIldhcm5pbmdcIjtcclxuICAgIERpYWdub3N0aWNDYXRlZ29yeVtEaWFnbm9zdGljQ2F0ZWdvcnlbXCJFcnJvclwiXSA9IDFdID0gXCJFcnJvclwiO1xyXG4gICAgRGlhZ25vc3RpY0NhdGVnb3J5W0RpYWdub3N0aWNDYXRlZ29yeVtcIlN1Z2dlc3Rpb25cIl0gPSAyXSA9IFwiU3VnZ2VzdGlvblwiO1xyXG4gICAgRGlhZ25vc3RpY0NhdGVnb3J5W0RpYWdub3N0aWNDYXRlZ29yeVtcIk1lc3NhZ2VcIl0gPSAzXSA9IFwiTWVzc2FnZVwiO1xyXG59KShEaWFnbm9zdGljQ2F0ZWdvcnkgfHwgKERpYWdub3N0aWNDYXRlZ29yeSA9IHt9KSk7XHJcbnZhciBEaWFnbm9zdGljc0FkYXB0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRGlhZ25vc3RpY3NBZGFwdGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRGlhZ25vc3RpY3NBZGFwdGVyKF9kZWZhdWx0cywgX3NlbGVjdG9yLCB3b3JrZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3b3JrZXIpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX2RlZmF1bHRzID0gX2RlZmF1bHRzO1xyXG4gICAgICAgIF90aGlzLl9zZWxlY3RvciA9IF9zZWxlY3RvcjtcclxuICAgICAgICBfdGhpcy5fZGlzcG9zYWJsZXMgPSBbXTtcclxuICAgICAgICBfdGhpcy5fbGlzdGVuZXIgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIHZhciBvbk1vZGVsQWRkID0gZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgICAgIGlmIChtb2RlbC5nZXRNb2RlSWQoKSAhPT0gX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGhhbmRsZTtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZVN1YnNjcmlwdGlvbiA9IG1vZGVsLm9uRGlkQ2hhbmdlQ29udGVudChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2RvVmFsaWRhdGUobW9kZWwpOyB9LCA1MDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3RoaXMuX2xpc3RlbmVyW21vZGVsLnVyaS50b1N0cmluZygpXSA9IHtcclxuICAgICAgICAgICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBfdGhpcy5fZG9WYWxpZGF0ZShtb2RlbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgb25Nb2RlbFJlbW92ZWQgPSBmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgbW9uYWNvLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMobW9kZWwsIF90aGlzLl9zZWxlY3RvciwgW10pO1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gbW9kZWwudXJpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5fbGlzdGVuZXJba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2xpc3RlbmVyW2tleV0uZGlzcG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9saXN0ZW5lcltrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5fZGlzcG9zYWJsZXMucHVzaChtb25hY28uZWRpdG9yLm9uRGlkQ3JlYXRlTW9kZWwob25Nb2RlbEFkZCkpO1xyXG4gICAgICAgIF90aGlzLl9kaXNwb3NhYmxlcy5wdXNoKG1vbmFjby5lZGl0b3Iub25XaWxsRGlzcG9zZU1vZGVsKG9uTW9kZWxSZW1vdmVkKSk7XHJcbiAgICAgICAgX3RoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvLmVkaXRvci5vbkRpZENoYW5nZU1vZGVsTGFuZ3VhZ2UoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIG9uTW9kZWxSZW1vdmVkKGV2ZW50Lm1vZGVsKTtcclxuICAgICAgICAgICAgb25Nb2RlbEFkZChldmVudC5tb2RlbCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIF90aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHtcclxuICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IG1vbmFjby5lZGl0b3IuZ2V0TW9kZWxzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uTW9kZWxSZW1vdmVkKG1vZGVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciByZWNvbXB1dGVEaWFnb3N0aWNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyByZWRvIGRpYWdub3N0aWNzIHdoZW4gb3B0aW9ucyBjaGFuZ2VcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IG1vbmFjby5lZGl0b3IuZ2V0TW9kZWxzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBvbk1vZGVsUmVtb3ZlZChtb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBvbk1vZGVsQWRkKG1vZGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuX2Rpc3Bvc2FibGVzLnB1c2goX3RoaXMuX2RlZmF1bHRzLm9uRGlkQ2hhbmdlKHJlY29tcHV0ZURpYWdvc3RpY3MpKTtcclxuICAgICAgICBfdGhpcy5fZGlzcG9zYWJsZXMucHVzaChfdGhpcy5fZGVmYXVsdHMub25EaWRFeHRyYUxpYnNDaGFuZ2UocmVjb21wdXRlRGlhZ29zdGljcykpO1xyXG4gICAgICAgIG1vbmFjby5lZGl0b3IuZ2V0TW9kZWxzKCkuZm9yRWFjaChvbk1vZGVsQWRkKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBEaWFnbm9zdGljc0FkYXB0ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZCAmJiBkLmRpc3Bvc2UoKTsgfSk7XHJcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBbXTtcclxuICAgIH07XHJcbiAgICBEaWFnbm9zdGljc0FkYXB0ZXIucHJvdG90eXBlLl9kb1ZhbGlkYXRlID0gZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgd29ya2VyLCBwcm9taXNlcywgX2EsIG5vU3ludGF4VmFsaWRhdGlvbiwgbm9TZW1hbnRpY1ZhbGlkYXRpb24sIG5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzLCBkaWFnbm9zdGljcywgbWFya2VycztcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fd29ya2VyKG1vZGVsLnVyaSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtb2RlbCB3YXMgZGlzcG9zZWQgaW4gdGhlIG1lYW50aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKSwgbm9TeW50YXhWYWxpZGF0aW9uID0gX2Eubm9TeW50YXhWYWxpZGF0aW9uLCBub1NlbWFudGljVmFsaWRhdGlvbiA9IF9hLm5vU2VtYW50aWNWYWxpZGF0aW9uLCBub1N1Z2dlc3Rpb25EaWFnbm9zdGljcyA9IF9hLm5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vU3ludGF4VmFsaWRhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U3ludGFjdGljRGlhZ25vc3RpY3MobW9kZWwudXJpLnRvU3RyaW5nKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vU2VtYW50aWNWYWxpZGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHdvcmtlci5nZXRTZW1hbnRpY0RpYWdub3N0aWNzKG1vZGVsLnVyaS50b1N0cmluZygpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub1N1Z2dlc3Rpb25EaWFnbm9zdGljcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U3VnZ2VzdGlvbkRpYWdub3N0aWNzKG1vZGVsLnVyaS50b1N0cmluZygpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwocHJvbWlzZXMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWdub3N0aWNzID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRpYWdub3N0aWNzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW9kZWwgd2FzIGRpc3Bvc2VkIGluIHRoZSBtZWFudGltZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBkaWFnbm9zdGljc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAocCwgYykgeyByZXR1cm4gYy5jb25jYXQocCk7IH0sIFtdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gKF90aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKS5kaWFnbm9zdGljQ29kZXNUb0lnbm9yZSB8fCBbXSkuaW5kZXhPZihkLmNvZGUpID09PSAtMTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIF90aGlzLl9jb252ZXJ0RGlhZ25vc3RpY3MobW9kZWwsIGQpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9uYWNvLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMobW9kZWwsIHRoaXMuX3NlbGVjdG9yLCBtYXJrZXJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBEaWFnbm9zdGljc0FkYXB0ZXIucHJvdG90eXBlLl9jb252ZXJ0RGlhZ25vc3RpY3MgPSBmdW5jdGlvbiAobW9kZWwsIGRpYWcpIHtcclxuICAgICAgICB2YXIgZGlhZ1N0YXJ0ID0gZGlhZy5zdGFydCB8fCAwO1xyXG4gICAgICAgIHZhciBkaWFnTGVuZ3RoID0gZGlhZy5sZW5ndGggfHwgMTtcclxuICAgICAgICB2YXIgX2EgPSBtb2RlbC5nZXRQb3NpdGlvbkF0KGRpYWdTdGFydCksIHN0YXJ0TGluZU51bWJlciA9IF9hLmxpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uID0gX2EuY29sdW1uO1xyXG4gICAgICAgIHZhciBfYiA9IG1vZGVsLmdldFBvc2l0aW9uQXQoZGlhZ1N0YXJ0ICsgZGlhZ0xlbmd0aCksIGVuZExpbmVOdW1iZXIgPSBfYi5saW5lTnVtYmVyLCBlbmRDb2x1bW4gPSBfYi5jb2x1bW47XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V2ZXJpdHk6IHRoaXMuX3RzRGlhZ25vc3RpY0NhdGVnb3J5VG9NYXJrZXJTZXZlcml0eShkaWFnLmNhdGVnb3J5KSxcclxuICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyOiBzdGFydExpbmVOdW1iZXIsXHJcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBzdGFydENvbHVtbixcclxuICAgICAgICAgICAgZW5kTGluZU51bWJlcjogZW5kTGluZU51bWJlcixcclxuICAgICAgICAgICAgZW5kQ29sdW1uOiBlbmRDb2x1bW4sXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQoZGlhZy5tZXNzYWdlVGV4dCwgJ1xcbicpLFxyXG4gICAgICAgICAgICBjb2RlOiBkaWFnLmNvZGUudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgdGFnczogZGlhZy5yZXBvcnRzVW5uZWNlc3NhcnkgPyBbbW9uYWNvLk1hcmtlclRhZy5Vbm5lY2Vzc2FyeV0gOiBbXSxcclxuICAgICAgICAgICAgcmVsYXRlZEluZm9ybWF0aW9uOiB0aGlzLl9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uKG1vZGVsLCBkaWFnLnJlbGF0ZWRJbmZvcm1hdGlvbiksXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBEaWFnbm9zdGljc0FkYXB0ZXIucHJvdG90eXBlLl9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1vZGVsLCByZWxhdGVkSW5mb3JtYXRpb24pIHtcclxuICAgICAgICBpZiAoIXJlbGF0ZWRJbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICByZWxhdGVkSW5mb3JtYXRpb24uZm9yRWFjaChmdW5jdGlvbiAoaW5mbykge1xyXG4gICAgICAgICAgICB2YXIgcmVsYXRlZFJlc291cmNlID0gbW9kZWw7XHJcbiAgICAgICAgICAgIGlmIChpbmZvLmZpbGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWxhdGVkUmVzb3VyY2VVcmkgPSBtb25hY28uVXJpLnBhcnNlKGluZm8uZmlsZS5maWxlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICByZWxhdGVkUmVzb3VyY2UgPSBtb25hY28uZWRpdG9yLmdldE1vZGVsKHJlbGF0ZWRSZXNvdXJjZVVyaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFyZWxhdGVkUmVzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaW5mb1N0YXJ0ID0gaW5mby5zdGFydCB8fCAwO1xyXG4gICAgICAgICAgICB2YXIgaW5mb0xlbmd0aCA9IGluZm8ubGVuZ3RoIHx8IDE7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHJlbGF0ZWRSZXNvdXJjZS5nZXRQb3NpdGlvbkF0KGluZm9TdGFydCksIHN0YXJ0TGluZU51bWJlciA9IF9hLmxpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uID0gX2EuY29sdW1uO1xyXG4gICAgICAgICAgICB2YXIgX2IgPSByZWxhdGVkUmVzb3VyY2UuZ2V0UG9zaXRpb25BdChpbmZvU3RhcnQgKyBpbmZvTGVuZ3RoKSwgZW5kTGluZU51bWJlciA9IF9iLmxpbmVOdW1iZXIsIGVuZENvbHVtbiA9IF9iLmNvbHVtbjtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IHJlbGF0ZWRSZXNvdXJjZS51cmksXHJcbiAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHN0YXJ0TGluZU51bWJlcixcclxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBzdGFydENvbHVtbixcclxuICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IGVuZExpbmVOdW1iZXIsXHJcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW46IGVuZENvbHVtbixcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQoaW5mby5tZXNzYWdlVGV4dCwgJ1xcbicpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgRGlhZ25vc3RpY3NBZGFwdGVyLnByb3RvdHlwZS5fdHNEaWFnbm9zdGljQ2F0ZWdvcnlUb01hcmtlclNldmVyaXR5ID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgc3dpdGNoIChjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBjYXNlIERpYWdub3N0aWNDYXRlZ29yeS5FcnJvcjogcmV0dXJuIG1vbmFjby5NYXJrZXJTZXZlcml0eS5FcnJvcjtcclxuICAgICAgICAgICAgY2FzZSBEaWFnbm9zdGljQ2F0ZWdvcnkuTWVzc2FnZTogcmV0dXJuIG1vbmFjby5NYXJrZXJTZXZlcml0eS5JbmZvO1xyXG4gICAgICAgICAgICBjYXNlIERpYWdub3N0aWNDYXRlZ29yeS5XYXJuaW5nOiByZXR1cm4gbW9uYWNvLk1hcmtlclNldmVyaXR5Lldhcm5pbmc7XHJcbiAgICAgICAgICAgIGNhc2UgRGlhZ25vc3RpY0NhdGVnb3J5LlN1Z2dlc3Rpb246IHJldHVybiBtb25hY28uTWFya2VyU2V2ZXJpdHkuSGludDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vbmFjby5NYXJrZXJTZXZlcml0eS5JbmZvO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEaWFnbm9zdGljc0FkYXB0ZXI7XHJcbn0oQWRhcHRlcikpO1xyXG5leHBvcnQgeyBEaWFnbm9zdGljc0FkYXB0ZXIgfTtcclxudmFyIFN1Z2dlc3RBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1Z2dlc3RBZGFwdGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VnZ2VzdEFkYXB0ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1Z2dlc3RBZGFwdGVyLnByb3RvdHlwZSwgXCJ0cmlnZ2VyQ2hhcmFjdGVyc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJy4nXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFN1Z2dlc3RBZGFwdGVyLnByb3RvdHlwZS5wcm92aWRlQ29tcGxldGlvbkl0ZW1zID0gZnVuY3Rpb24gKG1vZGVsLCBwb3NpdGlvbiwgX2NvbnRleHQsIHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgd29yZEluZm8sIHdvcmRSYW5nZSwgcmVzb3VyY2UsIG9mZnNldCwgd29ya2VyLCBpbmZvLCBzdWdnZXN0aW9ucztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZEluZm8gPSBtb2RlbC5nZXRXb3JkVW50aWxQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRSYW5nZSA9IG5ldyBSYW5nZShwb3NpdGlvbi5saW5lTnVtYmVyLCB3b3JkSW5mby5zdGFydENvbHVtbiwgcG9zaXRpb24ubGluZU51bWJlciwgd29yZEluZm8uZW5kQ29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fd29ya2VyKHJlc291cmNlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHdvcmtlci5nZXRDb21wbGV0aW9uc0F0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluZm8gfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMgPSBpbmZvLmVudHJpZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gd29yZFJhbmdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnJlcGxhY2VtZW50U3Bhbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwMSA9IG1vZGVsLmdldFBvc2l0aW9uQXQoZW50cnkucmVwbGFjZW1lbnRTcGFuLnN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcDIgPSBtb2RlbC5nZXRQb3NpdGlvbkF0KGVudHJ5LnJlcGxhY2VtZW50U3Bhbi5zdGFydCArIGVudHJ5LnJlcGxhY2VtZW50U3Bhbi5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKHAxLmxpbmVOdW1iZXIsIHAxLmNvbHVtbiwgcDIubGluZU51bWJlciwgcDIuY29sdW1uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiByZXNvdXJjZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBlbnRyeS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFRleHQ6IGVudHJ5Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydFRleHQ6IGVudHJ5LnNvcnRUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IFN1Z2dlc3RBZGFwdGVyLmNvbnZlcnRLaW5kKGVudHJ5LmtpbmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0aW9uczogc3VnZ2VzdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBTdWdnZXN0QWRhcHRlci5wcm90b3R5cGUucmVzb2x2ZUNvbXBsZXRpb25JdGVtID0gZnVuY3Rpb24gKG1vZGVsLCBfcG9zaXRpb24sIGl0ZW0sIHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbXlJdGVtLCByZXNvdXJjZSwgcG9zaXRpb24sIG9mZnNldCwgd29ya2VyLCBkZXRhaWxzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBteUl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IG15SXRlbS51cmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbXlJdGVtLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB3b3JrZXIuZ2V0Q29tcGxldGlvbkVudHJ5RGV0YWlscyhyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQsIG15SXRlbS5sYWJlbCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZXRhaWxzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG15SXRlbV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmk6IHJlc291cmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZGV0YWlscy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IFN1Z2dlc3RBZGFwdGVyLmNvbnZlcnRLaW5kKGRldGFpbHMua2luZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBkaXNwbGF5UGFydHNUb1N0cmluZyhkZXRhaWxzLmRpc3BsYXlQYXJ0cyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGlzcGxheVBhcnRzVG9TdHJpbmcoZGV0YWlscy5kb2N1bWVudGF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBTdWdnZXN0QWRhcHRlci5jb252ZXJ0S2luZCA9IGZ1bmN0aW9uIChraW5kKSB7XHJcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XHJcbiAgICAgICAgICAgIGNhc2UgS2luZC5wcmltaXRpdmVUeXBlOlxyXG4gICAgICAgICAgICBjYXNlIEtpbmQua2V5d29yZDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5LZXl3b3JkO1xyXG4gICAgICAgICAgICBjYXNlIEtpbmQudmFyaWFibGU6XHJcbiAgICAgICAgICAgIGNhc2UgS2luZC5sb2NhbFZhcmlhYmxlOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLlZhcmlhYmxlO1xyXG4gICAgICAgICAgICBjYXNlIEtpbmQubWVtYmVyVmFyaWFibGU6XHJcbiAgICAgICAgICAgIGNhc2UgS2luZC5tZW1iZXJHZXRBY2Nlc3NvcjpcclxuICAgICAgICAgICAgY2FzZSBLaW5kLm1lbWJlclNldEFjY2Vzc29yOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkZpZWxkO1xyXG4gICAgICAgICAgICBjYXNlIEtpbmQuZnVuY3Rpb246XHJcbiAgICAgICAgICAgIGNhc2UgS2luZC5tZW1iZXJGdW5jdGlvbjpcclxuICAgICAgICAgICAgY2FzZSBLaW5kLmNvbnN0cnVjdFNpZ25hdHVyZTpcclxuICAgICAgICAgICAgY2FzZSBLaW5kLmNhbGxTaWduYXR1cmU6XHJcbiAgICAgICAgICAgIGNhc2UgS2luZC5pbmRleFNpZ25hdHVyZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5GdW5jdGlvbjtcclxuICAgICAgICAgICAgY2FzZSBLaW5kLmVudW06XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRW51bTtcclxuICAgICAgICAgICAgY2FzZSBLaW5kLm1vZHVsZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5Nb2R1bGU7XHJcbiAgICAgICAgICAgIGNhc2UgS2luZC5jbGFzczpcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5DbGFzcztcclxuICAgICAgICAgICAgY2FzZSBLaW5kLmludGVyZmFjZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5JbnRlcmZhY2U7XHJcbiAgICAgICAgICAgIGNhc2UgS2luZC53YXJuaW5nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkZpbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VnZ2VzdEFkYXB0ZXI7XHJcbn0oQWRhcHRlcikpO1xyXG5leHBvcnQgeyBTdWdnZXN0QWRhcHRlciB9O1xyXG52YXIgU2lnbmF0dXJlSGVscEFkYXB0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2lnbmF0dXJlSGVscEFkYXB0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTaWduYXR1cmVIZWxwQWRhcHRlcigpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zaWduYXR1cmVIZWxwVHJpZ2dlckNoYXJhY3RlcnMgPSBbJygnLCAnLCddO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNpZ25hdHVyZUhlbHBBZGFwdGVyLnByb3RvdHlwZS5wcm92aWRlU2lnbmF0dXJlSGVscCA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UsIG9mZnNldCwgd29ya2VyLCBpbmZvLCByZXQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gbW9kZWwudXJpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB3b3JrZXIuZ2V0U2lnbmF0dXJlSGVscEl0ZW1zKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZvIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNpZ25hdHVyZTogaW5mby5zZWxlY3RlZEl0ZW1JbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVBhcmFtZXRlcjogaW5mby5hcmd1bWVudEluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlczogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2lnbmF0dXJlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZS5kb2N1bWVudGF0aW9uID0gZGlzcGxheVBhcnRzVG9TdHJpbmcoaXRlbS5kb2N1bWVudGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLnByZWZpeERpc3BsYXlQYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnBhcmFtZXRlcnMuZm9yRWFjaChmdW5jdGlvbiAocCwgaSwgYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKHAuZGlzcGxheVBhcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1ldGVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKHAuZG9jdW1lbnRhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBsYWJlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUucGFyYW1ldGVycy5wdXNoKHBhcmFtZXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBhLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlLmxhYmVsICs9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGl0ZW0uc2VwYXJhdG9yRGlzcGxheVBhcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLnN1ZmZpeERpc3BsYXlQYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQuc2lnbmF0dXJlcy5wdXNoKHNpZ25hdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkgeyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNpZ25hdHVyZUhlbHBBZGFwdGVyO1xyXG59KEFkYXB0ZXIpKTtcclxuZXhwb3J0IHsgU2lnbmF0dXJlSGVscEFkYXB0ZXIgfTtcclxuLy8gLS0tIGhvdmVyIC0tLS0tLVxyXG52YXIgUXVpY2tJbmZvQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhRdWlja0luZm9BZGFwdGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUXVpY2tJbmZvQWRhcHRlcigpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBRdWlja0luZm9BZGFwdGVyLnByb3RvdHlwZS5wcm92aWRlSG92ZXIgPSBmdW5jdGlvbiAobW9kZWwsIHBvc2l0aW9uLCB0b2tlbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlLCBvZmZzZXQsIHdvcmtlciwgaW5mbywgZG9jdW1lbnRhdGlvbiwgdGFncywgY29udGVudHM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gbW9kZWwudXJpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB3b3JrZXIuZ2V0UXVpY2tJbmZvQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5mbyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uID0gZGlzcGxheVBhcnRzVG9TdHJpbmcoaW5mby5kb2N1bWVudGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFncyA9IGluZm8udGFncyA/IGluZm8udGFncy5tYXAoZnVuY3Rpb24gKHRhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gXCIqQFwiICsgdGFnLm5hbWUgKyBcIipcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFnLnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWwgKyAodGFnLnRleHQubWF0Y2goL1xcclxcbnxcXG4vZykgPyAnIFxcbicgKyB0YWcudGV4dCA6IFwiIC0gXCIgKyB0YWcudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJyAgXFxuXFxuJykgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudHMgPSBkaXNwbGF5UGFydHNUb1N0cmluZyhpbmZvLmRpc3BsYXlQYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaW5mby50ZXh0U3BhbiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2BgYGpzXFxuJyArIGNvbnRlbnRzICsgJ1xcbmBgYFxcbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRvY3VtZW50YXRpb24gKyAodGFncyA/ICdcXG5cXG4nICsgdGFncyA6ICcnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBRdWlja0luZm9BZGFwdGVyO1xyXG59KEFkYXB0ZXIpKTtcclxuZXhwb3J0IHsgUXVpY2tJbmZvQWRhcHRlciB9O1xyXG4vLyAtLS0gb2NjdXJyZW5jZXMgLS0tLS0tXHJcbnZhciBPY2N1cnJlbmNlc0FkYXB0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoT2NjdXJyZW5jZXNBZGFwdGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gT2NjdXJyZW5jZXNBZGFwdGVyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIE9jY3VycmVuY2VzQWRhcHRlci5wcm90b3R5cGUucHJvdmlkZURvY3VtZW50SGlnaGxpZ2h0cyA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UsIG9mZnNldCwgd29ya2VyLCBlbnRyaWVzO1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlciA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgd29ya2VyLmdldE9jY3VycmVuY2VzQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZW50cmllcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IF90aGlzLl90ZXh0U3BhblRvUmFuZ2UobW9kZWwsIGVudHJ5LnRleHRTcGFuKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogZW50cnkuaXNXcml0ZUFjY2VzcyA/IG1vbmFjby5sYW5ndWFnZXMuRG9jdW1lbnRIaWdobGlnaHRLaW5kLldyaXRlIDogbW9uYWNvLmxhbmd1YWdlcy5Eb2N1bWVudEhpZ2hsaWdodEtpbmQuVGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBPY2N1cnJlbmNlc0FkYXB0ZXI7XHJcbn0oQWRhcHRlcikpO1xyXG5leHBvcnQgeyBPY2N1cnJlbmNlc0FkYXB0ZXIgfTtcclxuLy8gLS0tIGRlZmluaXRpb24gLS0tLS0tXHJcbnZhciBEZWZpbml0aW9uQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhEZWZpbml0aW9uQWRhcHRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIERlZmluaXRpb25BZGFwdGVyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIERlZmluaXRpb25BZGFwdGVyLnByb3RvdHlwZS5wcm92aWRlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24sIHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UsIG9mZnNldCwgd29ya2VyLCBlbnRyaWVzLCByZXN1bHQsIF9pLCBlbnRyaWVzXzEsIGVudHJ5LCB1cmksIHJlZk1vZGVsO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlciA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgd29ya2VyLmdldERlZmluaXRpb25BdFBvc2l0aW9uKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllcyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRyaWVzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2kgPCBlbnRyaWVzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeSA9IGVudHJpZXNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmkgPSBVcmkucGFyc2UoZW50cnkuZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmTW9kZWwgPSBtb25hY28uZWRpdG9yLmdldE1vZGVsKHVyaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmTW9kZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVyaTogdXJpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKHJlZk1vZGVsLCBlbnRyeS50ZXh0U3BhbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzdWx0XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERlZmluaXRpb25BZGFwdGVyO1xyXG59KEFkYXB0ZXIpKTtcclxuZXhwb3J0IHsgRGVmaW5pdGlvbkFkYXB0ZXIgfTtcclxuLy8gLS0tIHJlZmVyZW5jZXMgLS0tLS0tXHJcbnZhciBSZWZlcmVuY2VBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZmVyZW5jZUFkYXB0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWZlcmVuY2VBZGFwdGVyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFJlZmVyZW5jZUFkYXB0ZXIucHJvdG90eXBlLnByb3ZpZGVSZWZlcmVuY2VzID0gZnVuY3Rpb24gKG1vZGVsLCBwb3NpdGlvbiwgY29udGV4dCwgdG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSwgb2Zmc2V0LCB3b3JrZXIsIGVudHJpZXMsIHJlc3VsdCwgX2ksIGVudHJpZXNfMiwgZW50cnksIHVyaSwgcmVmTW9kZWw7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gbW9kZWwudXJpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB3b3JrZXIuZ2V0UmVmZXJlbmNlc0F0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyaWVzID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVudHJpZXMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBlbnRyaWVzXzIgPSBlbnRyaWVzOyBfaSA8IGVudHJpZXNfMi5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5ID0gZW50cmllc18yW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVyaSA9IFVyaS5wYXJzZShlbnRyeS5maWxlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZNb2RlbCA9IG1vbmFjby5lZGl0b3IuZ2V0TW9kZWwodXJpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWZNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiB1cmksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UocmVmTW9kZWwsIGVudHJ5LnRleHRTcGFuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXN1bHRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVmZXJlbmNlQWRhcHRlcjtcclxufShBZGFwdGVyKSk7XHJcbmV4cG9ydCB7IFJlZmVyZW5jZUFkYXB0ZXIgfTtcclxuLy8gLS0tIG91dGxpbmUgLS0tLS0tXHJcbnZhciBPdXRsaW5lQWRhcHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhPdXRsaW5lQWRhcHRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE91dGxpbmVBZGFwdGVyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIE91dGxpbmVBZGFwdGVyLnByb3RvdHlwZS5wcm92aWRlRG9jdW1lbnRTeW1ib2xzID0gZnVuY3Rpb24gKG1vZGVsLCB0b2tlbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlLCB3b3JrZXIsIGl0ZW1zLCBjb252ZXJ0LCByZXN1bHQ7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gbW9kZWwudXJpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlciA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgd29ya2VyLmdldE5hdmlnYXRpb25CYXJJdGVtcyhyZXNvdXJjZS50b1N0cmluZygpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ID0gZnVuY3Rpb24gKGJ1Y2tldCwgaXRlbSwgY29udGFpbmVyTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS50ZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogKG91dGxpbmVUeXBlVGFibGVbaXRlbS5raW5kXSB8fCBtb25hY28ubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuVmFyaWFibGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBfdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBpdGVtLnNwYW5zWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25SYW5nZTogX3RoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaXRlbS5zcGFuc1swXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTmFtZTogY29udGFpbmVyTGFiZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5jaGlsZEl0ZW1zICYmIGl0ZW0uY2hpbGRJdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGl0ZW0uY2hpbGRJdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0KGJ1Y2tldCwgY2hpbGQsIHJlc3VsdC5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gY29udmVydChyZXN1bHQsIGl0ZW0pOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3VsdF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBPdXRsaW5lQWRhcHRlcjtcclxufShBZGFwdGVyKSk7XHJcbmV4cG9ydCB7IE91dGxpbmVBZGFwdGVyIH07XHJcbnZhciBLaW5kID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gS2luZCgpIHtcclxuICAgIH1cclxuICAgIEtpbmQudW5rbm93biA9ICcnO1xyXG4gICAgS2luZC5rZXl3b3JkID0gJ2tleXdvcmQnO1xyXG4gICAgS2luZC5zY3JpcHQgPSAnc2NyaXB0JztcclxuICAgIEtpbmQubW9kdWxlID0gJ21vZHVsZSc7XHJcbiAgICBLaW5kLmNsYXNzID0gJ2NsYXNzJztcclxuICAgIEtpbmQuaW50ZXJmYWNlID0gJ2ludGVyZmFjZSc7XHJcbiAgICBLaW5kLnR5cGUgPSAndHlwZSc7XHJcbiAgICBLaW5kLmVudW0gPSAnZW51bSc7XHJcbiAgICBLaW5kLnZhcmlhYmxlID0gJ3Zhcic7XHJcbiAgICBLaW5kLmxvY2FsVmFyaWFibGUgPSAnbG9jYWwgdmFyJztcclxuICAgIEtpbmQuZnVuY3Rpb24gPSAnZnVuY3Rpb24nO1xyXG4gICAgS2luZC5sb2NhbEZ1bmN0aW9uID0gJ2xvY2FsIGZ1bmN0aW9uJztcclxuICAgIEtpbmQubWVtYmVyRnVuY3Rpb24gPSAnbWV0aG9kJztcclxuICAgIEtpbmQubWVtYmVyR2V0QWNjZXNzb3IgPSAnZ2V0dGVyJztcclxuICAgIEtpbmQubWVtYmVyU2V0QWNjZXNzb3IgPSAnc2V0dGVyJztcclxuICAgIEtpbmQubWVtYmVyVmFyaWFibGUgPSAncHJvcGVydHknO1xyXG4gICAgS2luZC5jb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uID0gJ2NvbnN0cnVjdG9yJztcclxuICAgIEtpbmQuY2FsbFNpZ25hdHVyZSA9ICdjYWxsJztcclxuICAgIEtpbmQuaW5kZXhTaWduYXR1cmUgPSAnaW5kZXgnO1xyXG4gICAgS2luZC5jb25zdHJ1Y3RTaWduYXR1cmUgPSAnY29uc3RydWN0JztcclxuICAgIEtpbmQucGFyYW1ldGVyID0gJ3BhcmFtZXRlcic7XHJcbiAgICBLaW5kLnR5cGVQYXJhbWV0ZXIgPSAndHlwZSBwYXJhbWV0ZXInO1xyXG4gICAgS2luZC5wcmltaXRpdmVUeXBlID0gJ3ByaW1pdGl2ZSB0eXBlJztcclxuICAgIEtpbmQubGFiZWwgPSAnbGFiZWwnO1xyXG4gICAgS2luZC5hbGlhcyA9ICdhbGlhcyc7XHJcbiAgICBLaW5kLmNvbnN0ID0gJ2NvbnN0JztcclxuICAgIEtpbmQubGV0ID0gJ2xldCc7XHJcbiAgICBLaW5kLndhcm5pbmcgPSAnd2FybmluZyc7XHJcbiAgICByZXR1cm4gS2luZDtcclxufSgpKTtcclxuZXhwb3J0IHsgS2luZCB9O1xyXG52YXIgb3V0bGluZVR5cGVUYWJsZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tb2R1bGVdID0gbW9uYWNvLmxhbmd1YWdlcy5TeW1ib2xLaW5kLk1vZHVsZTtcclxub3V0bGluZVR5cGVUYWJsZVtLaW5kLmNsYXNzXSA9IG1vbmFjby5sYW5ndWFnZXMuU3ltYm9sS2luZC5DbGFzcztcclxub3V0bGluZVR5cGVUYWJsZVtLaW5kLmVudW1dID0gbW9uYWNvLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkVudW07XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC5pbnRlcmZhY2VdID0gbW9uYWNvLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkludGVyZmFjZTtcclxub3V0bGluZVR5cGVUYWJsZVtLaW5kLm1lbWJlckZ1bmN0aW9uXSA9IG1vbmFjby5sYW5ndWFnZXMuU3ltYm9sS2luZC5NZXRob2Q7XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJWYXJpYWJsZV0gPSBtb25hY28ubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuUHJvcGVydHk7XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJHZXRBY2Nlc3Nvcl0gPSBtb25hY28ubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuUHJvcGVydHk7XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJTZXRBY2Nlc3Nvcl0gPSBtb25hY28ubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuUHJvcGVydHk7XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC52YXJpYWJsZV0gPSBtb25hY28ubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuVmFyaWFibGU7XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC5jb25zdF0gPSBtb25hY28ubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuVmFyaWFibGU7XHJcbm91dGxpbmVUeXBlVGFibGVbS2luZC5sb2NhbFZhcmlhYmxlXSA9IG1vbmFjby5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcclxub3V0bGluZVR5cGVUYWJsZVtLaW5kLnZhcmlhYmxlXSA9IG1vbmFjby5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcclxub3V0bGluZVR5cGVUYWJsZVtLaW5kLmZ1bmN0aW9uXSA9IG1vbmFjby5sYW5ndWFnZXMuU3ltYm9sS2luZC5GdW5jdGlvbjtcclxub3V0bGluZVR5cGVUYWJsZVtLaW5kLmxvY2FsRnVuY3Rpb25dID0gbW9uYWNvLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkZ1bmN0aW9uO1xyXG4vLyAtLS0gZm9ybWF0dGluZyAtLS0tXHJcbnZhciBGb3JtYXRIZWxwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9ybWF0SGVscGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRm9ybWF0SGVscGVyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIENvbnZlcnRUYWJzVG9TcGFjZXM6IG9wdGlvbnMuaW5zZXJ0U3BhY2VzLFxyXG4gICAgICAgICAgICBUYWJTaXplOiBvcHRpb25zLnRhYlNpemUsXHJcbiAgICAgICAgICAgIEluZGVudFNpemU6IG9wdGlvbnMudGFiU2l6ZSxcclxuICAgICAgICAgICAgSW5kZW50U3R5bGU6IEluZGVudFN0eWxlLlNtYXJ0LFxyXG4gICAgICAgICAgICBOZXdMaW5lQ2hhcmFjdGVyOiAnXFxuJyxcclxuICAgICAgICAgICAgSW5zZXJ0U3BhY2VBZnRlckNvbW1hRGVsaW1pdGVyOiB0cnVlLFxyXG4gICAgICAgICAgICBJbnNlcnRTcGFjZUFmdGVyU2VtaWNvbG9uSW5Gb3JTdGF0ZW1lbnRzOiB0cnVlLFxyXG4gICAgICAgICAgICBJbnNlcnRTcGFjZUJlZm9yZUFuZEFmdGVyQmluYXJ5T3BlcmF0b3JzOiB0cnVlLFxyXG4gICAgICAgICAgICBJbnNlcnRTcGFjZUFmdGVyS2V5d29yZHNJbkNvbnRyb2xGbG93U3RhdGVtZW50czogdHJ1ZSxcclxuICAgICAgICAgICAgSW5zZXJ0U3BhY2VBZnRlckZ1bmN0aW9uS2V5d29yZEZvckFub255bW91c0Z1bmN0aW9uczogdHJ1ZSxcclxuICAgICAgICAgICAgSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nTm9uZW1wdHlQYXJlbnRoZXNpczogZmFsc2UsXHJcbiAgICAgICAgICAgIEluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHM6IGZhbHNlLFxyXG4gICAgICAgICAgICBJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdUZW1wbGF0ZVN0cmluZ0JyYWNlczogZmFsc2UsXHJcbiAgICAgICAgICAgIFBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yQ29udHJvbEJsb2NrczogZmFsc2UsXHJcbiAgICAgICAgICAgIFBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yRnVuY3Rpb25zOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgRm9ybWF0SGVscGVyLnByb3RvdHlwZS5fY29udmVydFRleHRDaGFuZ2VzID0gZnVuY3Rpb24gKG1vZGVsLCBjaGFuZ2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0ZXh0OiBjaGFuZ2UubmV3VGV4dCxcclxuICAgICAgICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgY2hhbmdlLnNwYW4pXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRm9ybWF0SGVscGVyO1xyXG59KEFkYXB0ZXIpKTtcclxuZXhwb3J0IHsgRm9ybWF0SGVscGVyIH07XHJcbnZhciBGb3JtYXRBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZvcm1hdEFkYXB0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb3JtYXRBZGFwdGVyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEZvcm1hdEFkYXB0ZXIucHJvdG90eXBlLnByb3ZpZGVEb2N1bWVudFJhbmdlRm9ybWF0dGluZ0VkaXRzID0gZnVuY3Rpb24gKG1vZGVsLCByYW5nZSwgb3B0aW9ucywgdG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgd29ya2VyLCBlZGl0cztcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoeyBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsIGNvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW4gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZE9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHsgbGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlciwgY29sdW1uOiByYW5nZS5lbmRDb2x1bW4gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3dvcmtlcihyZXNvdXJjZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya2VyID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB3b3JrZXIuZ2V0Rm9ybWF0dGluZ0VkaXRzRm9yUmFuZ2UocmVzb3VyY2UudG9TdHJpbmcoKSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgRm9ybWF0SGVscGVyLl9jb252ZXJ0T3B0aW9ucyhvcHRpb25zKSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdHMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWRpdHMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVkaXRzLm1hcChmdW5jdGlvbiAoZWRpdCkgeyByZXR1cm4gX3RoaXMuX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgZWRpdCk7IH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvcm1hdEFkYXB0ZXI7XHJcbn0oRm9ybWF0SGVscGVyKSk7XHJcbmV4cG9ydCB7IEZvcm1hdEFkYXB0ZXIgfTtcclxudmFyIEZvcm1hdE9uVHlwZUFkYXB0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9ybWF0T25UeXBlQWRhcHRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEZvcm1hdE9uVHlwZUFkYXB0ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZvcm1hdE9uVHlwZUFkYXB0ZXIucHJvdG90eXBlLCBcImF1dG9Gb3JtYXRUcmlnZ2VyQ2hhcmFjdGVyc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJzsnLCAnfScsICdcXG4nXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIEZvcm1hdE9uVHlwZUFkYXB0ZXIucHJvdG90eXBlLnByb3ZpZGVPblR5cGVGb3JtYXR0aW5nRWRpdHMgPSBmdW5jdGlvbiAobW9kZWwsIHBvc2l0aW9uLCBjaCwgb3B0aW9ucywgdG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSwgb2Zmc2V0LCB3b3JrZXIsIGVkaXRzO1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IG1vZGVsLnVyaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlciA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgd29ya2VyLmdldEZvcm1hdHRpbmdFZGl0c0FmdGVyS2V5c3Ryb2tlKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCwgY2gsIEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMob3B0aW9ucykpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRzID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVkaXRzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBlZGl0cy5tYXAoZnVuY3Rpb24gKGVkaXQpIHsgcmV0dXJuIF90aGlzLl9jb252ZXJ0VGV4dENoYW5nZXMobW9kZWwsIGVkaXQpOyB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBGb3JtYXRPblR5cGVBZGFwdGVyO1xyXG59KEZvcm1hdEhlbHBlcikpO1xyXG5leHBvcnQgeyBGb3JtYXRPblR5cGVBZGFwdGVyIH07XHJcbi8vIC0tLSBjb2RlIGFjdGlvbnMgLS0tLS0tXHJcbnZhciBDb2RlQWN0aW9uQWRhcHRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDb2RlQWN0aW9uQWRhcHRvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENvZGVBY3Rpb25BZGFwdG9yKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIENvZGVBY3Rpb25BZGFwdG9yLnByb3RvdHlwZS5wcm92aWRlQ29kZUFjdGlvbnMgPSBmdW5jdGlvbiAobW9kZWwsIHJhbmdlLCBjb250ZXh0LCB0b2tlbikge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlLCBzdGFydCwgZW5kLCBmb3JtYXRPcHRpb25zLCBlcnJvckNvZGVzLCB3b3JrZXIsIGNvZGVGaXhlcywgYWN0aW9ucztcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoeyBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsIGNvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW4gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IG1vZGVsLmdldE9mZnNldEF0KHsgbGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlciwgY29sdW1uOiByYW5nZS5lbmRDb2x1bW4gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdE9wdGlvbnMgPSBGb3JtYXRIZWxwZXIuX2NvbnZlcnRPcHRpb25zKG1vZGVsLmdldE9wdGlvbnMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZXMgPSBjb250ZXh0Lm1hcmtlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLmNvZGU7IH0pLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5jb2RlOyB9KS5tYXAoTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fd29ya2VyKHJlc291cmNlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrZXIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHdvcmtlci5nZXRDb2RlRml4ZXNBdFBvc2l0aW9uKHJlc291cmNlLnRvU3RyaW5nKCksIHN0YXJ0LCBlbmQsIGVycm9yQ29kZXMsIGZvcm1hdE9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVGaXhlcyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb2RlRml4ZXMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IGNvZGVGaXhlcy5maWx0ZXIoZnVuY3Rpb24gKGZpeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlcyBhbnkgJ21ha2UgYSBuZXcgZmlsZSctdHlwZSBjb2RlIGZpeFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpeC5jaGFuZ2VzLmZpbHRlcihmdW5jdGlvbiAoY2hhbmdlKSB7IHJldHVybiBjaGFuZ2UuaXNOZXdGaWxlOyB9KS5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoZml4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RzQ29kZUZpeEFjdGlvblRvTW9uYWNvQ29kZUFjdGlvbihtb2RlbCwgY29udGV4dCwgZml4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogYWN0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBDb2RlQWN0aW9uQWRhcHRvci5wcm90b3R5cGUuX3RzQ29kZUZpeEFjdGlvblRvTW9uYWNvQ29kZUFjdGlvbiA9IGZ1bmN0aW9uIChtb2RlbCwgY29udGV4dCwgY29kZUZpeCkge1xyXG4gICAgICAgIHZhciBlZGl0cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBjb2RlRml4LmNoYW5nZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBjaGFuZ2UudGV4dENoYW5nZXM7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGV4dENoYW5nZSA9IF9jW19iXTtcclxuICAgICAgICAgICAgICAgIGVkaXRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiBtb2RlbC51cmksXHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCB0ZXh0Q2hhbmdlLnNwYW4pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0Q2hhbmdlLm5ld1RleHRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYWN0aW9uID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogY29kZUZpeC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgZWRpdDogeyBlZGl0czogZWRpdHMgfSxcclxuICAgICAgICAgICAgZGlhZ25vc3RpY3M6IGNvbnRleHQubWFya2VycyxcclxuICAgICAgICAgICAga2luZDogXCJxdWlja2ZpeFwiXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gYWN0aW9uO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb2RlQWN0aW9uQWRhcHRvcjtcclxufShGb3JtYXRIZWxwZXIpKTtcclxuZXhwb3J0IHsgQ29kZUFjdGlvbkFkYXB0b3IgfTtcclxuLy8gLS0tIHJlbmFtZSAtLS0tXHJcbnZhciBSZW5hbWVBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlbmFtZUFkYXB0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZW5hbWVBZGFwdGVyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFJlbmFtZUFkYXB0ZXIucHJvdG90eXBlLnByb3ZpZGVSZW5hbWVFZGl0cyA9IGZ1bmN0aW9uIChtb2RlbCwgcG9zaXRpb24sIG5ld05hbWUsIHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzb3VyY2UsIGZpbGVOYW1lLCBvZmZzZXQsIHdvcmtlciwgcmVuYW1lSW5mbywgcmVuYW1lTG9jYXRpb25zLCBlZGl0cywgX2ksIHJlbmFtZUxvY2F0aW9uc18xLCByZW5hbWVMb2NhdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSBtb2RlbC51cmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gcmVzb3VyY2UudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl93b3JrZXIocmVzb3VyY2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlciA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgd29ya2VyLmdldFJlbmFtZUluZm8oZmlsZU5hbWUsIG9mZnNldCwgeyBhbGxvd1JlbmFtZU9mSW1wb3J0UGF0aDogZmFsc2UgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuYW1lSW5mbyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbmFtZUluZm8uY2FuUmVuYW1lID09PSBmYWxzZSkgeyAvLyB1c2UgZXhwbGljaXQgY29tcGFyaXNvbiBzbyB0aGF0IHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIGdldHMgcmVzb2x2ZWQgcHJvcGVybHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0UmVhc29uOiByZW5hbWVJbmZvLmxvY2FsaXplZEVycm9yTWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW5hbWVJbmZvLmZpbGVUb1JlbmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZW5hbWluZyBmaWxlcyBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB3b3JrZXIuZmluZFJlbmFtZUxvY2F0aW9ucyhmaWxlTmFtZSwgb2Zmc2V0LCAvKnN0cmluZ3MqLyBmYWxzZSwgLypjb21tZW50cyovIGZhbHNlLCAvKnByZWZpeEFuZFN1ZmZpeCovIGZhbHNlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5hbWVMb2NhdGlvbnMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVuYW1lTG9jYXRpb25zIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2kgPSAwLCByZW5hbWVMb2NhdGlvbnNfMSA9IHJlbmFtZUxvY2F0aW9uczsgX2kgPCByZW5hbWVMb2NhdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmFtZUxvY2F0aW9uID0gcmVuYW1lTG9jYXRpb25zXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IG1vbmFjby5VcmkucGFyc2UocmVuYW1lTG9jYXRpb24uZmlsZU5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgcmVuYW1lTG9jYXRpb24udGV4dFNwYW4pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBuZXdOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHsgZWRpdHM6IGVkaXRzIH1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVuYW1lQWRhcHRlcjtcclxufShBZGFwdGVyKSk7XHJcbmV4cG9ydCB7IFJlbmFtZUFkYXB0ZXIgfTtcclxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cclxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbid1c2Ugc3RyaWN0JztcclxuaW1wb3J0IHsgV29ya2VyTWFuYWdlciB9IGZyb20gJy4vd29ya2VyTWFuYWdlci5qcyc7XHJcbmltcG9ydCAqIGFzIGxhbmd1YWdlRmVhdHVyZXMgZnJvbSAnLi9sYW5ndWFnZUZlYXR1cmVzLmpzJztcclxudmFyIGphdmFTY3JpcHRXb3JrZXI7XHJcbnZhciB0eXBlU2NyaXB0V29ya2VyO1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBUeXBlU2NyaXB0KGRlZmF1bHRzKSB7XHJcbiAgICB0eXBlU2NyaXB0V29ya2VyID0gc2V0dXBNb2RlKGRlZmF1bHRzLCAndHlwZXNjcmlwdCcpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEphdmFTY3JpcHQoZGVmYXVsdHMpIHtcclxuICAgIGphdmFTY3JpcHRXb3JrZXIgPSBzZXR1cE1vZGUoZGVmYXVsdHMsICdqYXZhc2NyaXB0Jyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEphdmFTY3JpcHRXb3JrZXIoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGlmICghamF2YVNjcmlwdFdvcmtlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KFwiSmF2YVNjcmlwdCBub3QgcmVnaXN0ZXJlZCFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc29sdmUoamF2YVNjcmlwdFdvcmtlcik7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZVNjcmlwdFdvcmtlcigpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgaWYgKCF0eXBlU2NyaXB0V29ya2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoXCJUeXBlU2NyaXB0IG5vdCByZWdpc3RlcmVkIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzb2x2ZSh0eXBlU2NyaXB0V29ya2VyKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNldHVwTW9kZShkZWZhdWx0cywgbW9kZUlkKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gbmV3IFdvcmtlck1hbmFnZXIobW9kZUlkLCBkZWZhdWx0cyk7XHJcbiAgICB2YXIgd29ya2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB1cmlzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdXJpc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xpZW50LmdldExhbmd1YWdlU2VydmljZVdvcmtlci5hcHBseShjbGllbnQsIHVyaXMpO1xyXG4gICAgfTtcclxuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJDb21wbGV0aW9uSXRlbVByb3ZpZGVyKG1vZGVJZCwgbmV3IGxhbmd1YWdlRmVhdHVyZXMuU3VnZ2VzdEFkYXB0ZXIod29ya2VyKSk7XHJcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVyU2lnbmF0dXJlSGVscFByb3ZpZGVyKG1vZGVJZCwgbmV3IGxhbmd1YWdlRmVhdHVyZXMuU2lnbmF0dXJlSGVscEFkYXB0ZXIod29ya2VyKSk7XHJcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVySG92ZXJQcm92aWRlcihtb2RlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLlF1aWNrSW5mb0FkYXB0ZXIod29ya2VyKSk7XHJcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRIaWdobGlnaHRQcm92aWRlcihtb2RlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLk9jY3VycmVuY2VzQWRhcHRlcih3b3JrZXIpKTtcclxuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJEZWZpbml0aW9uUHJvdmlkZXIobW9kZUlkLCBuZXcgbGFuZ3VhZ2VGZWF0dXJlcy5EZWZpbml0aW9uQWRhcHRlcih3b3JrZXIpKTtcclxuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJSZWZlcmVuY2VQcm92aWRlcihtb2RlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLlJlZmVyZW5jZUFkYXB0ZXIod29ya2VyKSk7XHJcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRTeW1ib2xQcm92aWRlcihtb2RlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLk91dGxpbmVBZGFwdGVyKHdvcmtlcikpO1xyXG4gICAgbW9uYWNvLmxhbmd1YWdlcy5yZWdpc3RlckRvY3VtZW50UmFuZ2VGb3JtYXR0aW5nRWRpdFByb3ZpZGVyKG1vZGVJZCwgbmV3IGxhbmd1YWdlRmVhdHVyZXMuRm9ybWF0QWRhcHRlcih3b3JrZXIpKTtcclxuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJPblR5cGVGb3JtYXR0aW5nRWRpdFByb3ZpZGVyKG1vZGVJZCwgbmV3IGxhbmd1YWdlRmVhdHVyZXMuRm9ybWF0T25UeXBlQWRhcHRlcih3b3JrZXIpKTtcclxuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJDb2RlQWN0aW9uUHJvdmlkZXIobW9kZUlkLCBuZXcgbGFuZ3VhZ2VGZWF0dXJlcy5Db2RlQWN0aW9uQWRhcHRvcih3b3JrZXIpKTtcclxuICAgIG1vbmFjby5sYW5ndWFnZXMucmVnaXN0ZXJSZW5hbWVQcm92aWRlcihtb2RlSWQsIG5ldyBsYW5ndWFnZUZlYXR1cmVzLlJlbmFtZUFkYXB0ZXIod29ya2VyKSk7XHJcbiAgICBuZXcgbGFuZ3VhZ2VGZWF0dXJlcy5EaWFnbm9zdGljc0FkYXB0ZXIoZGVmYXVsdHMsIG1vZGVJZCwgd29ya2VyKTtcclxuICAgIHJldHVybiB3b3JrZXI7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==